(()=>{var e,t={1295:(e,t,n)=>{"use strict";n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var o=n(2260),i=n.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t,n,o,i=l(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this,{key:"Boot"})}return t=r,(n=[{key:"preload",value:function(){this.load.image("background-loading","assets/sprites/background-loading.jpg")}},{key:"create",value:function(){this.background=this.add.image(0,0,"background-loading").setOrigin(0),this.background.depth=-10,this.scene.transition({target:"Splash",duration:1e3,remove:!0})}}])&&a(t.prototype,n),o&&a(t,o),r}(i().Scene),h=(n(6699),n(2023),n(9554),n(4747),n(4819),n(5003),n(101)),f=n(4480),d=n.n(f),y=(n(9720),n(9753),n(7042),n(8309),n(1038),n(6786)),g=n.n(y);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(r,e);var t,n,o,i=k(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),j(x(t=i.call(this,e)),"debugEnabled",!1),j(x(t),"updatable",[]),j(x(t),"sfx",{}),j(x(t),"sfxVolume",.6),j(x(t),"bgmVolume",.5),j(x(t),"bgmAdjust",1),t.updatable=[],t}return t=r,(n=[{key:"preload",value:function(){}},{key:"create",value:function(e){var t=this;this.events.on("shutdown",(function(){t.onSceneShutdown()}))}},{key:"update",value:function(e,t){this.updatable.forEach((function(n){n.update(e,t)}))}},{key:"onSceneShutdown",value:function(){this.stopAllSounds()}},{key:"debugLog",value:function(e){this.debugEnabled&&console.debug(e)}},{key:"setBgmVolume",value:function(e){this.bgmVolume=e,this.bgm.setVolume(this.bgmAdjust*this.bgmVolume)}},{key:"setSfxVolume",value:function(e){this.sfxVolume=e;for(var t=0,n=Object.entries(this.sfx);t<n.length;t++){var o=b(n[t],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[o],"isPlaying")&&this.sfx[o].setVolume(this.sfxVolume)}}},{key:"pauseGame",value:function(){this.scene.launch("pause-scene",{scene:this}),this.scene.bringToTop("pause-scene"),this.scene.pause(this.scene.key)}},{key:"stopAllSounds",value:function(){if(this.sfx)for(var e=0,t=Object.entries(this.sfx);e<t.length;e++){var n=b(t[e],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[n],"isPlaying")&&this.sfx[n].pause()}this.bgm&&this.bgm.pause(),this.player&&this.player.stopAllSounds()}},{key:"setupProgressBar",value:function(){var e=this,t=this.cameras.main.width,n=this.cameras.main.height,o=t/3,i=this.add.graphics({x:t/2-o/2,y:n-n/5,lineStyle:{width:6,color:g().colour.accent1,alpha:.8},fillStyle:{color:g().colour.accent1,alpha:.8}}).strokeRoundedRect(0,0,o,50,5).fillRoundedRect(0,0,o,50,5),r=this.add.graphics({x:t/2-o/2,y:n-n/5,fillStyle:{color:g().colour.accent4,alpha:1}}),a=this.make.text({x:t/2,y:n-n/5+50+25,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}}).setOrigin(.5,.5);this.background=this.add.image(0,0,"background-loading").setOrigin(0).setDepth(-10),this.load.on("progress",(function(e){a.setText("Loading "+Math.floor(100*e)+"%"),r.clear(),r.fillRoundedRect(0,0,o*e,50,5)})),this.load.on("complete",(function(){e.load.removeListener("progress"),r.destroy(),i.destroy(),a.destroy()}))}}])&&w(t.prototype,n),o&&w(t,o),r}(i().Scene);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,o,r=A(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),U(I(e=r.call(this,{key:"Splash"})),"bgmAdjust",.9),U(I(e),"loading",!1),e}return t=a,(n=[{key:"preload",value:function(){this.setupProgressBar(),this.load.image("damage-overlay","assets/sprites/damage-overlay.png"),this.load.image("cosmic-quest","assets/sprites/azure-cosmic-quest.png"),this.load.atlas("sprites","assets/sprites/spritesheet.png","assets/sprites/spritesheet.json",i().Loader.TEXTURE_ATLAS_JSON_HASH),this.load.atlas("sprites2","assets/sprites/spritesheet2.png","assets/sprites/spritesheet2.json",i().Loader.TEXTURE_ATLAS_JSON_HASH),this.load.image("gmlogo","assets/sprites/logo.png"),this.load.json("ship-shape","assets/sprites/ship-shape.json"),this.load.audio("splash-music","assets/music/Z3ZS7VN-intro.mp3"),this.load.audio("ship-boost","assets/audio/spaceEngineLarge_002b.wav"),this.load.audio("sfx-lightbeam","assets/audio/forceField_000.wav"),this.load.audio("sfx-score","assets/audio/toggle_002.wav"),this.load.audio("sfx-warning","assets/audio/phaseJump2.wav"),this.load.audio("sfx-pickup","assets/audio/laserLarge_002.wav"),this.load.image("debris-chunk","assets/sprites/debris-chunk.png"),this.load.image("arrows1","assets/sprites/arrows1.png"),this.load.json("arrows1-physics","assets/sprites/arrows1-physics.json"),this.load.image("background-splash","assets/sprites/background-splash.jpg"),this.load.image("background-dialog","assets/sprites/background-dialog.png"),this.load.image("background-dialog-white","assets/sprites/background-dialog-white.png"),this.load.image("background-panel","assets/sprites/background-panel.png"),this.load.image("ui-blank-button","assets/sprites/ui_blank_button.png"),this.load.image("ui-warning-top","assets/sprites/ui-warning-top.png"),this.load.rexWebFont({google:{families:["Inter"]},testString:"Inter",testInterval:20}),this.load.tilemapTiledJSON("level-one","assets/tilemaps/level-one.json"),this.load.audio("level-one-music","assets/music/EWQR7SQ-level-one.mp3"),this.load.image("background-end","assets/sprites/background-end.jpg")}},{key:"create",value:function(){var e=this;this.setupPauseButton(),this.checkDevice(),this.sound.pauseOnBlur=!0,this.cameras.main.backgroundColor=i().Display.Color.HexStringToColor("#191970"),this.background=this.add.image(0,0,"background-splash").setOrigin(0).setScale(.7),this.background.depth=-10;var t=this.sys.game.scale.gameSize,n=new h.bU(this,0,0,"",{fixedWidth:t.width-260,fixedHeight:t.height/3,fontSize:"30px",fontFamily:"Inter",wrap:{mode:"word",width:t.width-260},maxLines:10}),o=new h.zC(this,{x:100,y:100,background:this.rexUI.add.roundRectangle(0,0,2,2,20,0,.4),text:n,space:{left:50,right:50,top:120,bottom:150,icon:0,text:0}}).setOrigin(0).layout();this.add.existing(o),this.add.existing(n),o.start(d().startText.paragraph,10);var r=new h.EK(this,{x:t.width/2,y:t.height-100,buttons:[this.rexUI.add.label({width:300,height:100,align:"center",background:this.add.image(0,0,"ui-blank-button"),text:this.add.text(0,0,d().startText.start,{fontSize:50,fontFamily:"Inter"}),space:{left:10,right:10}})],click:{mode:"pointerup",clickInterval:1e3}}).setOrigin(.5).layout();r.on("button.click",(function(t,n,o,i){e.sys.game.device.os.desktop||e.scale.orientation.includes("landscape")&&e.scale.startFullscreen(),e.loadLevel("level-one")})),r.on("button.over",(function(t,n,o,i){var r=t.getElement("background");void 0===r.tweenGrow&&(r.tweenScaleX=r.scaleX,r.tweenScaleY=r.scaleY,r.tweenGrow=e.tweens.add({targets:r,scaleX:r.scaleX+.05,scaleY:r.scaleY+.05,duration:150,onComplete:function(){delete r.tweenGrow}}))})),r.on("button.out",(function(t,n,o,i){var r=t.getElement("background");void 0!==r.tweenGrow&&(r.tweenGrow.stop(),delete r.tweenGrow),void 0===r.tweenShrink&&(r.tweenShrink=e.tweens.add({targets:r,scaleX:r.tweenScaleX,scaleY:r.tweenScaleY,duration:150,onComplete:function(){delete r.tweenShrink}}))})),this.add.existing(r),this.bgm=this.sound.add("splash-music"),this.bgm.play({loop:!1,volume:this.bgmVolume*this.bgmAdjust}),this.add.sprite(t.width-20,t.height-20,"gmlogo").setScale(.5).setOrigin(1,1),this.add.image(t.width/2,50,"cosmic-quest").setOrigin(.5,0)}},{key:"loadLevel",value:function(e){var t=this;this.loading||(this.loading=!0,this.tweens.addCounter({from:this.bgm.volume,to:0,duration:1e3,onUpdate:function(e){t.bgm.volume=e.getValue()}}),this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once(i().Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){var n={bgmVolume:t.bgmVolume,sfxVolume:t.sfxVolume};t.scene.transition({target:e,duration:1e3,remove:!0,data:n})})))}},{key:"update",value:function(e,t){T(D(a.prototype),"update",this).call(this,e,t),this.updatable.forEach((function(n){n.update(e,t)}))}},{key:"checkDevice",value:function(){if(!this.sys.game.device.os.desktop){var e=this.scale.orientation;if(!e.includes("landscape"))return void this.scene.launch("landscape-scene",{scene:this});e.includes("landscape")&&this.scale.startFullscreen()}}},{key:"setupPauseButton",value:function(){var e=this;this.pauseSprite=this.add.sprite(20,20,"sprites2","ui-pause-off").setOrigin(0,0).setInteractive().setScrollFactor(0,0).setDepth(10).setScale(.6).on("pointerdown",(function(){e.pauseSprite.setTexture("sprites2","ui-pause-on"),e.pauseGame()})).on("pointerup",(function(){e.pauseSprite.setTexture("sprites2","ui-pause-off")})).on("pointerout",(function(){e.pauseSprite.setTexture("sprites2","ui-pause-off")}))}}])&&R(t.prototype,n),o&&R(t,o),a}(P);n(2222);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Y(e);if(t){var i=Y(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,n,o,r=z(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),H(X(e=r.call(this,{key:"end-of-level-score"})),"data",{}),H(X(e),"dialog",void 0),H(X(e),"parentScene",{}),H(X(e),"sceneProgression",{"level-one":"level-two","level-two":"level-three","level-three":"level-four","level-four":"level-five","level-five":"end-scene"}),H(X(e),"score",{levelPickups:null,levelPickupsValue:0,shipEnergy:null,shipEnergyValue:0,totalScore:null,totalScoreValue:0}),H(X(e),"dialog",void 0),H(X(e),"continueLabel",void 0),H(X(e),"scoreGrid",void 0),H(X(e),"scoringStatus",0),H(X(e),"sfx",{}),e}return t=a,(n=[{key:"create",value:function(e){B(Y(a.prototype),"create",this).call(this,e),this.debugLog("end-of-level-score.create()"),this.data=e,this.parentScene=e.scene,this.data.bgmVolume=this.parentScene.bgmVolume,this.data.sfxVolume=this.parentScene.sfxVolume,this.scoringStatus=0,this.setupScoreDialog(),this.setupSFX()}},{key:"update",value:function(e,t){B(Y(a.prototype),"update",this).call(this,e,t),this.updateScores(e,t)}},{key:"onSceneShutdown",value:function(){B(Y(a.prototype),"onSceneShutdown",this).call(this)}},{key:"setupScoreDialog",value:function(){var e=this,t=this.sys.game.scale.gameSize,n=this.parentScene.scene.key,o=this.add.graphics({fillStyle:{color:3840}}).setAlpha(.2);o.fillRectShape(new(i().Geom.Rectangle)(0,0,t.width,t.height)),this.tweens.add({targets:o,alpha:{from:.2,to:.5},duration:500,loop:0});var r=this.add.sprite(0,0,"background-dialog-white"),a={fontSize:"24px",fontFamily:"Inter"};this.score.totalScoreValue=this.data.previousScore,this.score.levelPickupsValue=this.data.playerScore,this.score.shipEnergyValue=Math.floor(this.data.playerHealth),this.continueLabel=this.rexUI.add.label({width:100,height:50,background:this.rexUI.add.roundRectangle(0,0,0,0,20,g().colour.accent3),text:this.add.text(0,0,"Continue",{fontSize:"24px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}}).setAlpha(.2);var s=t.width-300;this.dialog=this.rexUI.add.dialog({x:t.width/2,y:t.height/2,background:r,title:this.rexUI.add.label({text:this.add.text(0,0,d()[n].endOfLevelTitle,{fontSize:"40px",fontFamily:"Inter"}),align:"center",anchor:"center"}),content:this.rexUI.add.label({width:s-60,height:200,text:this.add.rexBBCodeText(0,0,"[b]".concat(d()[n].unlockHeading,"[/b]\n\n").concat(d()[n].unlockText),{fontFamily:"Inter",fontSize:"24px",halign:"center",color:"#000",wrap:{mode:1,width:s}}),space:{left:30,right:30,top:50,bottom:100}}),actions:[this.continueLabel],actionsAlign:"center",align:{title:"center",content:"center",description:"center",choices:"center",actions:"center"},space:{title:20,action:10,left:50,right:50,top:40,bottom:60}}).layout().popUp(1e3),this.dialog.on("button.click",(function(t,o,i,r,a){e.parentScene.scene.isPaused()||e.scoringStatus>=4&&e.loadLevel(e.sceneProgression[n])})).on("button.over",(function(t,n,o,i,r){e.scoringStatus>=4&&t.getElement("background").setStrokeStyle(5,g().colour.accent2)})).on("button.out",(function(t,n,o,i,r){e.scoringStatus>=4&&t.getElement("background").setStrokeStyle()})),this.scoreGrid=this.rexUI.add.gridSizer(t.width/2,t.height-230,t.width-400,40,{column:6,row:1,columnProportions:[23,10,23,10,23,10],space:{left:10,right:10,top:5,bottom:5,column:10,row:0}}),this.scoreGrid.addBackground(this.add.rectangle(0,0,2,2,g().colour.accent1)),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"Level Pickups",a),align:"right"}),{column:0,row:0,expand:!0}),this.score.levelPickups=this.add.text(0,0,this.score.levelPickupsValue,a),this.scoreGrid.add(this.rexUI.add.label({text:this.score.levelPickups,align:"left"}),{column:1,row:0,expand:!0}),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"+ Ship Energy",a),align:"right"}),{column:2,row:0,expand:!0}),this.score.shipEnergy=this.add.text(0,0,this.score.shipEnergyValue,a),this.scoreGrid.add(this.rexUI.add.label({text:this.score.shipEnergy,align:"left"}),{column:3,row:0,expand:!0}),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"= Total Score",a),align:"right"}),{column:4,row:0,expand:!0}),this.score.totalScore=this.add.text(0,0,this.score.totalScoreValue,a),this.scoreGrid.add(this.rexUI.add.label({text:this.score.totalScore,align:"left"}),{column:5,row:0,expand:!0}),this.scoreGrid.layout(),"end-scene"===this.sceneProgression[n]?(this.scoringStatus=4,this.scoreGrid.alpha=0):(this.scoreGrid.popUp(1e3),this.time.addEvent({delay:2e3,callback:function(){e.scoringStatus=1},callbackScope:this,loop:!1}));var l=this.add.sprite(t.width-150,150,"sprites2",this.parentScene.endOfLevelBadge[n]).setAlpha(0);this.tweens.add({targets:l,alpha:{from:0,to:1},duration:1e3,delay:500,loop:0})}},{key:"loadLevel",value:function(e){var t=this;if(this.debugLog("loading level ".concat(e)),!this.parentScene.loading){if(this.parentScene.loading=!0,"end-scene"===e){var n={previousScore:Math.floor(this.score.totalScoreValue+this.score.levelPickupsValue+this.score.shipEnergyValue),bgmVolume:this.data.bgmVolume,sfxVolume:this.data.sfxVolume};return this.scene.start(e,n),void this.scene.stop(this.scene.key)}this.tweens.addCounter({from:this.parentScene.bgm.volume,to:0,duration:1e3,onUpdate:function(e){t.parentScene.bgm.volume=e.getValue()}}),this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once(i().Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){var n={previousScore:Math.floor(t.score.totalScoreValue),bgmVolume:t.data.bgmVolume,sfxVolume:t.data.sfxVolume};t.parentScene.scene.key===e?t.parentScene.scene.restart(n):(t.scene.start(e,n),t.scene.stop(t.parentScene.scene.key),t.scene.stop(t.scene.key))}))}}},{key:"updateScores",value:function(e,t){var n=this;if(this.scoreGrid&&!(this.scoringStatus<1))switch(this.scoringStatus){case 1:this.sfx.scoreDings.isPlaying||this.sfx.scoreDings.play({loop:!0,volume:this.parentScene.sfxVolume,rate:1}),this.score.levelPickupsValue>=0?(this.score.levelPickupsValue-=t/1e3*25,this.score.totalScoreValue+=t/1e3*25,this.score.levelPickupsValue<0&&(this.score.levelPickupsValue=-1),this.score.levelPickups.setText(Math.floor(this.score.levelPickupsValue)>0?Math.floor(this.score.levelPickupsValue):""),this.score.totalScore.setText(Math.floor(this.score.totalScoreValue))):(this.scoringStatus=2,this.sfx.scoreDings.play({loop:!1,volume:this.parentScene.sfxVolume,detune:700,rate:1}),this.time.addEvent({delay:1e3,callback:function(){n.scoringStatus=3},callbackScope:this,loop:!1}));break;case 2:break;case 3:this.sfx.scoreDings.isPlaying||this.sfx.scoreDings.play({loop:!0,volume:this.parentScene.sfxVolume,detune:0,rate:1}),this.score.shipEnergyValue>=0?(this.score.shipEnergyValue-=t/1e3*25,this.score.totalScoreValue+=t/1e3*25,this.score.shipEnergyValue<0&&(this.score.shipEnergyValue=-1),this.score.shipEnergy.setText(Math.floor(this.score.shipEnergyValue)>0?Math.floor(this.score.shipEnergyValue):""),this.score.totalScore.setText(Math.floor(this.score.totalScoreValue))):(this.scoringStatus=4,this.sfx.scoreDings.play({loop:!1,volume:this.parentScene.sfxVolume,detune:700,rate:1}));break;case 4:this.continueLabel.setAlpha(1)}}},{key:"setupSFX",value:function(){var e=this;this.sfx.scoreDings=this.sound.add("sfx-score"),this.parentScene.bgm.volume>.1&&this.tweens.addCounter({from:this.parentScene.bgm.volume,to:Math.max(.1,this.parentScene.bgm.volume-.1),duration:4e3,onUpdate:function(t){e.parentScene.bgm.volume=t.getValue()}})}}])&&G(t.prototype,n),o&&G(t,o),a}(P);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,e);var t,n,o,r=Z(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),te($(e=r.call(this,{key:"pause-scene"})),"data",{}),te($(e),"dialog",void 0),te($(e),"parentScene",{}),te($(e),"sfx",{}),e}return t=a,(n=[{key:"create",value:function(e){this.data=e,this.parentScene=e.scene,this.data.bgmVolume=this.parentScene.bgm.volume,this.resumeTime=this.parentScene.bgm.seek,this.setupPauseDialog()}},{key:"setupPauseDialog",value:function(){var e=this,t=this.sys.game.scale.gameSize,n=this.add.graphics({fillStyle:{color:3840}}).setAlpha(.2);n.fillRectShape(new(i().Geom.Rectangle)(0,0,t.width,t.height)),this.tweens.add({targets:n,alpha:{from:.2,to:.5},duration:500,loop:0});var o=this.add.sprite(0,0,"background-dialog"),r={fontSize:"24px",fontFamily:"Inter",color:"#fff"},a=this.rexUI.add.gridSizer(t.width/2,t.height/2+100,500,160,{column:2,row:3,columnProportions:[40,60],rowProportions:[50,50],space:{left:10,right:10,top:5,bottom:10,column:20,row:10}});a.add(this.rexUI.add.label({text:this.add.text(0,0,"Music volume",r),align:"right"}),{column:0,row:0,expand:!0}),a.add(this.rexUI.add.label({text:this.add.text(0,0,"SFX volume",r),align:"right"}),{column:0,row:1,expand:!0});var s=this.rexUI.add.slider({orientation:"x",height:20,width:300,track:this.rexUI.add.roundRectangle(0,0,0,0,2,g().colour.accent3),thumb:this.rexUI.add.roundRectangle(0,0,0,0,16,16777215),input:"drag",value:this.parentScene.bgmVolume,valuechangeCallback:function(t){e.parentScene.setBgmVolume(t)},space:{left:4,right:4,top:4,bottom:4},enable:!0});a.add(s,{column:1,row:0,expand:!1});var l=this.rexUI.add.slider({orientation:"x",height:20,width:300,track:this.rexUI.add.roundRectangle(0,0,0,0,2,g().colour.accent3),thumb:this.rexUI.add.roundRectangle(0,0,0,0,16,16777215),input:"drag",value:this.parentScene.sfxVolume,valuechangeCallback:function(t){e.parentScene.setSfxVolume(t)},space:{left:4,right:4,top:4,bottom:4},enable:!0});a.add(l,{column:1,row:1,expand:!1});var c=this.rexUI.add.buttons({buttons:[this.rexUI.add.label({name:"fullscreen",align:"left",text:this.add.text(0,0,"Fullscreen mode",r),icon:this.add.rectangle(0,0,18,18).setStrokeStyle(2,g().colour.accent3),space:{icon:10,left:4,right:4}})],type:"checkboxes",align:"left",setValueCallback:function(t,n){"fullscreen"===t.name&&(t.getElement("icon").setFillStyle(n?g().colour.accent2:void 0),n?e.scale.startFullscreen():e.scale.stopFullscreen())}});c.setData("fullscreen",this.scale.isFullscreen),a.add(c,{column:1,row:2,expand:!0}),this.dialog=this.rexUI.add.dialog({x:t.width/2,y:t.height/2,background:o,title:this.rexUI.add.label({text:this.add.text(0,0,"GAME PAUSED",{fontSize:"30px",fontFamily:"Inter"}),align:"center",anchor:"center"}),content:a,actions:[this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,0,0,20,g().colour.accent1),text:this.add.text(0,0,"Exit to title screen",{fontSize:"18px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}}),this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,0,0,20,g().colour.accent3),text:this.add.text(0,0,"Resume Game",{fontSize:"24px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}})],actionsAlign:"center",space:{title:100,action:60,content:30,left:50,right:50,top:40,bottom:100}}).layout().popUp(200),this.dialog.on("button.click",(function(t,n,o,i,r){switch(t.text){case"Resume Game":e.resumeGame();break;case"Exit to title screen":confirm("Are you sure you want to go back to the title screen?")&&window.location.reload()}})).on("button.over",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle(5,g().colour.accent2)})).on("button.out",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle()}))}},{key:"resumeGame",value:function(){var e=this;void 0!==this.parentScene.bgm.tween&&this.parentScene.bgm.tween.stop(),this.parentScene.bgm.tween=this.parentScene.tweens.addCounter({from:0,to:this.parentScene.bgmVolume,duration:1e3,onUpdate:function(t){e.parentScene.bgm.setVolume(t.getValue())}}),this.scene.stop(this.scene.key),this.parentScene.scene.resume(),this.parentScene.bgm.setSeek(this.resumeTime)}}])&&N(t.prototype,n),o&&N(t,o),a}(i().Scene);n(2564);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ce(e);if(t){var i=ce(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(r,e);var t,n,o,i=ae(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ue(le(e=i.call(this,{key:"end-scene"})),"data",{}),ue(le(e),"dialog",void 0),ue(le(e),"parentScene",{}),ue(le(e),"formId",593),e}return t=r,(n=[{key:"create",value:function(e){this.data=e,this.parentScene=e.scene,this.setupEndDialog(),this.setupForm(),this.scale.stopFullscreen()}},{key:"setupEndDialog",value:function(){var e=this.sys.game.scale.gameSize;this.add.sprite(0,0,"background-end").setOrigin(0,0),this.add.sprite(e.width/2+20,40,"cosmic-quest").setScale(.5).setOrigin(.5,.5),this.add.sprite(e.width-20,e.height-20,"gmlogo").setScale(.5).setOrigin(1,1)}},{key:"addBadges",value:function(){for(var e=300,t=1;t<=5;t+=1){var n=this.add.sprite(70+e,240,"sprites2","end-of-level-".concat(t)).setScale(.6);this.tweens.add({targets:n,scale:{from:.6,to:.8},duration:700,delay:400*t,yoyo:!0,ease:"Cubic.easeInOut"}),e+=140}}},{key:"doScoreReveal",value:function(){this.addBadges();var e=this.sys.game.scale.gameSize,t=this.add.text(.5*e.width,.5*e.height,"You scored ".concat(this.data.previousScore," points!"),{align:"center",fill:"#FFFFFF",font:"70px Inter",stroke:g().colour.accent4hex,strokeThickness:5,shadow:{offsetX:0,offsetY:0,color:"#000",blur:20,stroke:!1,fill:!0}}).setOrigin(.5,.5).setAlpha(0).setScale(0);this.tweens.add({targets:t,alpha:1,scale:1,duration:1500,ease:"Sine.easeOut",onComplete:function(){document.getElementById("share").style.zIndex=1,document.getElementById("share").style.display="block"}})}},{key:"setupForm",value:function(){var e=this;document.getElementById("form").style.zIndex=1,document.getElementById("form").style.display="block",window.updateScore(this.data.previousScore),_gf.setField(this.formId,"game_score",{value:"".concat(this.data.previousScore)}),_gf.on(this.formId,"success",(function(t,n){setTimeout((function(){document.getElementById("form").remove(),e.doScoreReveal()}),2e3)}))}}])&&ie(t.prototype,n),o&&ie(t,o),r}(i().Scene);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=be(e);if(t){var i=be(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ge(this,n)}}function ge(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(r,e);var t,n,o,i=ye(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ve(me(e=i.call(this,{key:"landscape-scene"})),"data",{}),ve(me(e),"dialog",void 0),e}return t=r,(n=[{key:"create",value:function(){this.setupLandscapeDialog()}},{key:"setupLandscapeDialog",value:function(){var e=this,t=this.sys.game.scale.gameSize,n=this.add.sprite(0,0,"background-dialog");this.dialog=this.rexUI.add.dialog({x:t.width/2,y:t.height/2,height:250,background:n,title:this.rexUI.add.label({text:this.add.text(0,0,"Landscape",{fontSize:"30px",fontFamily:"Inter"}),align:"center",anchor:"center"}),content:this.rexUI.add.label({text:this.add.text(0,0,"Turn your device landscape for a better game experience",{fontSize:"30px",fontFamily:"Inter",space:{left:10,right:10,top:10,bottom:10}}),align:"center",anchor:"center",space:{left:10,right:10,top:10,bottom:10}}),actions:[this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,0,0,20,g().colour.accent3),text:this.add.text(0,0,"Resume Game",{fontSize:"24px",fontFamily:"Inter"}),space:{left:10,right:10,top:5,bottom:10}})],actionsAlign:"center",space:{title:30,action:60,content:12,left:50,right:50,top:10,bottom:10}}).layout().popUp(200),this.dialog.on("button.click",(function(t,n,o,i,r){switch(t.text){case"Resume Game":e.resumeGame()}})).on("button.over",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle(5,g().colour.accent2)})).on("button.out",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle()}))}},{key:"resumeGame",value:function(){this.scene.stop(this.scene.key),this.scale.orientation.includes("landscape")&&this.scale.startFullscreen()}}])&&fe(t.prototype,n),o&&fe(t,o),r}(i().Scene);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Te(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Te(e);if(t){var i=Te(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,n,o,r=Pe(a);function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ce(Re(o=r.call(this,e,t,n)),"scene",void 0),Ce(Re(o),"ship",void 0),Ce(Re(o),"flame1",void 0),Ce(Re(o),"flameParticles",void 0),Ce(Re(o),"flameParticlesEmitter",void 0),Ce(Re(o),"damageParticles",void 0),Ce(Re(o),"damageEmitter",void 0),Ce(Re(o),"explosion",void 0),Ce(Re(o),"controlsEnabled",!0),Ce(Re(o),"physicsOffset",{x:-200,y:-99}),Ce(Re(o),"moving",!1),Ce(Re(o),"boosted",0),Ce(Re(o),"speed",250),Ce(Re(o),"boostSpeed",550),Ce(Re(o),"verticalSpeed",10),Ce(Re(o),"health",100),Ce(Re(o),"alive",!0),Ce(Re(o),"bankingAngle",10),Ce(Re(o),"collidingWithLightbeam",!1),Ce(Re(o),"sfx",{}),o.name="ship",o.scene=e,o.setupSprites(),o.setupPhysics(),o.setupAudio(),e.add.existing(Re(o)),o.currentSpeed=o.speed,o}return t=a,(n=[{key:"getHealthPercent",value:function(){return this.health/100}},{key:"setupAudio",value:function(){this.sfx={boost:this.scene.sound.add("ship-boost")}}},{key:"setupPhysics",value:function(){var e=this.scene.cache.json.get("ship-shape");this.scene.matter.add.gameObject(this,{shape:e.Spritesheet,label:"player"}),this.setScale(.5),i().Physics.Matter.Matter.Body.setInertia(this.body,1/0),this.ship.setPosition(this.body.centerOffset.x+this.physicsOffset.x,this.body.centerOffset.y+this.physicsOffset.y),this.flame1.setPosition(this.body.centerOffset.x-385,this.body.centerOffset.y-99)}},{key:"disablePhysics",value:function(){this.enable=!1,this.setCollisionCategory(null)}},{key:"setupSprites",value:function(){this.ship=new(i().GameObjects.Sprite)(this.scene,0,100,"sprites","ship.png"),this.add(this.ship),this.ship.depth=50,this.flame1=new(i().GameObjects.Sprite)(this.scene,0,150,"sprites","flame1.png"),this.add(this.flame1),this.flame1.anims.create({key:"ship-flame",frames:[{key:"sprites",frame:"flame1.png"},{key:"sprites",frame:"flame2.png"}],frameRate:2,repeat:-1}),this.flame1.play("ship-flame",!0),this.flame1.anims.create({key:"boost-flame",frames:[{key:"sprites",frame:"boost1.png"},{key:"sprites",frame:"boost2.png"}],frameRate:4,repeat:-1}),this.flameParticles=this.scene.add.particles("sprites2","particle-yellow"),this.flameParticlesEmitter=this.flameParticles.createEmitter({frequency:100,quantity:1,radial:!0,scale:{start:1,end:0},alpha:{start:1,end:0},speedX:{min:-300,max:-200},speedY:{min:-30,max:30},blendMode:"ADD",lifespan:2e3,on:!0}),this.flameParticlesEmitter.startFollow(this,-93),this.damageParticles=this.scene.add.particles("sprites","explosion animation 8.png"),this.damageEmitter=this.damageParticles.createEmitter({frequency:600,frame:["explosion animation 8.png","explosion animation 7.png","explosion animation 6.png"],quantity:1,scale:{start:.3,end:1},alpha:{start:1,end:0},speedX:{min:-10,max:200},speedY:{min:-30,max:30},blendMode:"ADD",lifespan:1e3,on:!1}),this.damageEmitter.startFollow(this,-10),this.explosion=new(i().GameObjects.Sprite)(this.scene,0,-30,"sprites","explosion animation 5.png"),this.add(this.explosion),this.explosion.setScale(2),this.explosion.setVisible(!1),this.explosion.anims.create({key:"explosion",frames:[{key:"sprites",frame:"explosion animation.png"},{key:"sprites",frame:"explosion animation 2.png"},{key:"sprites",frame:"explosion animation 3.png"},{key:"sprites",frame:"explosion animation 4.png"},{key:"sprites",frame:"explosion animation 5.png"},{key:"sprites",frame:"explosion animation 6.png"},{key:"sprites",frame:"explosion animation 7.png"},{key:"sprites",frame:"explosion animation 8.png"}],frameRate:4,repeat:0,hideOnComplete:!0,showOnStart:!0})}},{key:"collide",value:function(e,t){var n=this,o=!0;switch(e.label){case"terrain":this.collideWithTerrain(e);break;case"debris":this.collideWithDebris(e,t);break;case"lightbeam":this.collideWithLightbeam(e,t),o=!1;break;case"pickup":o=!1}o&&this.scene.tweens.addCounter({from:0,to:255,duration:250,onUpdate:function(e){var t=Math.floor(e.getValue());n.ship.setTint(i().Display.Color.GetColor(255,t,t))}})}},{key:"collideActive",value:function(e,t){switch(e.label){case"lightbeam":this.collideWithLightbeamActive(e,t)}}},{key:"collideFinish",value:function(e,t){switch(e.label){case"lightbeam":this.collideWithLightbeamFinish(e,t)}}},{key:"collideWithTerrain",value:function(e){var t=this;this.scene.showDamageOverlay(),1===this.boosted?this.health-=15:this.health-=10,this.health<0&&(this.health=0),this.scene.cameras.main.shake(500,.01),this.scene.tweens.addCounter({from:-200,to:0,duration:1e3,ease:"Back",onUpdate:function(e){t.scene.bgm.setDetune(e.getValue())}})}},{key:"collideWithDebris",value:function(e,t){var n=this;this.scene.showDamageOverlay(),1!==this.boosted&&(this.health-=5),this.health<0&&(this.health=0),this.scene.cameras.main.shake(300,.005),this.scene.tweens.addCounter({from:-100,to:0,duration:300,ease:"Back",onUpdate:function(e){n.scene.bgm.setDetune(e.getValue())}}),this.scene.tweens.addCounter({from:200,to:255,duration:250,onUpdate:function(t){var n=Math.floor(t.getValue());e.gameObject.setTint(i().Display.Color.GetColor(n,n,n))}}),this.scene.collideDestroy(e,t)}},{key:"collideWithLightbeam",value:function(e,t){var n=this;1!==this.boosted?this.collidingWithLightbeam||(this.collidingWithLightbeam=!0,this.collisingWithLightbeamTween=this.scene.tweens.addCounter({from:1,to:3,duration:250,repeat:-1,onUpdate:function(e){3!==Math.floor(e.getValue())?n.ship.clearTint():(n.ship.setTintFill(16777215),n.scene.cameras.main.shake(250,.003))}})):(this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove(),this.scene.collideDestroy(e,t))}},{key:"collideWithLightbeamActive",value:function(e,t){1===this.boosted&&(this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove(),this.scene.collideDestroy(e,t))}},{key:"collideWithLightbeamFinish",value:function(){this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove()}},{key:"update",value:function(e,t){_e(Te(a.prototype),"update",this).call(this,e,t),this.collidingWithLightbeam&&(this.scene.showDamageOverlay(),this.health-=t/1e3*10,this.health<0&&(this.health=0)),this.flame1.anims.update(e,t),this.checkHealth()&&(this.moving||(this.angle>0&&(this.angle-=t/1e3*90,this.angle<0&&(this.angle=0)),this.angle<0&&(this.angle+=t/1e3*90,this.angle>0&&(this.angle=0))),this.setVelocityX(this.currentSpeed/100))}},{key:"stopAllSounds",value:function(){if(this.sfx)for(var e=0,t=Object.entries(this.sfx);e<t.length;e++){var n=ke(t[e],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[n],"isPlaying")&&this.sfx[n].pause()}}},{key:"moveDown",value:function(e,t){this.boosted||(this.scene.ui.downSprite.setTexture("sprites2","ui-arrow-down-on").setX(23),this.moving=!0,this.y+=this.verticalSpeed/2,this.setVelocityY(0),this.angle<this.bankingAngle&&(this.angle+=t/1e3*90))}},{key:"moveUp",value:function(e,t){this.boosted||(this.scene.ui.upSprite.setTexture("sprites2","ui-arrow-up-on"),this.moving=!0,this.y-=this.verticalSpeed/2,this.setVelocityY(0),this.angle>-1*this.bankingAngle&&(this.angle-=t/1e3*90))}},{key:"stopMoving",value:function(){this.scene.ui.upSprite.setTexture("sprites2","ui-arrow-up-off"),this.scene.ui.downSprite.setTexture("sprites2","ui-arrow-down-off").setX(20),this.moving=!1}},{key:"startBoost",value:function(){this.scene.ui.rightSprite.setTexture("sprites2","ui-arrow-right-on"),this.flame1.play("boost-flame",!0),this.boosted=1,this.sfx.boost.play({loop:!0,volume:this.scene.sfxVolume}),this.currentSpeed=this.boostSpeed,this.flameParticlesEmitter.setQuantity(4)}},{key:"stopBoost",value:function(){var e=this;this.scene.ui.rightSprite.setTexture("sprites2","ui-arrow-right-off"),this.boosted=0,this.flameParticlesEmitter.setQuantity(1),this.scene.tweens.addCounter({from:this.sfx.boost.volume,to:0,duration:200,onUpdate:function(t){e.sfx.boost.volume=t.getValue()},onComplete:function(){e.sfx.boost.pause()}}),this.flame1.play("ship-flame",!0),this.scene.tweens.addCounter({from:this.currentSpeed,to:this.speed,duration:1e3,onUpdate:function(t){1!==e.boosted&&(e.currentSpeed=Math.floor(t.getValue()))}})}},{key:"checkHealth",value:function(){return this.health<=60&&this.scene.ui.health.foregroundSprite.setTint(i().Display.Color.GetColor(255,255,0)),this.health<=50&&this.ship.setTexture("sprites","ship_damage_1.png"),this.health<=30&&(this.scene.ui.health.foregroundSprite.setTint(i().Display.Color.GetColor(255)),this.ship.setTexture("sprites","ship_damage_2.png")),!(this.health<=0&&(!0===this.alive&&(this.alive=!1,this.flameParticlesEmitter.setSpeed(20).setScale(3).setBlendMode(i().BlendModes.DARKEN),this.damageEmitter.start()),0))}}])&&xe(t.prototype,n),o&&xe(t,o),a}(i().GameObjects.Container),Ve=(n(1249),n(6486));function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Le(e,t,n){return(Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Me(e):t}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(a,e);var t,n,o,r=Ge(a);function a(){var e;De(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return We(Me(e=r.call.apply(r,[this].concat(n))),"map",null),We(Me(e),"score",0),We(Me(e),"previousScore",0),We(Me(e),"tilesets",[]),We(Me(e),"scaleFactor",1),We(Me(e),"tileSize",32),We(Me(e),"terrain",[]),We(Me(e),"particles",{}),We(Me(e),"bgm",{}),We(Me(e),"ui",{depth:100}),We(Me(e),"lightbeams",[]),We(Me(e),"endOfLevel",!1),We(Me(e),"loading",!0),We(Me(e),"input",{cursorKeys:null}),We(Me(e),"positionBasedEvents",[]),We(Me(e),"endOfLevelBadge",{"level-one":"end-of-level-1","level-two":"end-of-level-2","level-three":"end-of-level-3","level-four":"end-of-level-4","level-five":"end-of-level-5"}),e}return t=a,(n=[{key:"preload",value:function(){var e=this;this.setupProgressBar(),Le(ze(a.prototype),"preload",this).call(this),this.load.image("".concat(this.scene.key,"-background"),"assets/tilemaps/".concat(this.scene.key,"/background.jpg")),this.load.tilemapTiledJSON(this.scene.key,"assets/tilemaps/".concat(this.scene.key,".json")),this.terrain.forEach((function(t){e.load.image("".concat(e.scene.key,"-").concat(t),"assets/tilemaps/".concat(e.scene.key,"/").concat(t))}))}},{key:"create",value:function(e){Le(ze(a.prototype),"create",this).call(this,e),Object.prototype.hasOwnProperty.call(e,"bgmVolume")&&(this.bgmVolume=e.bgmVolume),Object.prototype.hasOwnProperty.call(e,"sfxVolume")&&(this.sfxVolume=e.sfxVolume),Object.prototype.hasOwnProperty.call(e,"previousScore")&&(this.previousScore=e.previousScore),this.loading=!1,this.enableControls(),this.sound.pauseOnBlur=!1}},{key:"update",value:function(e,t){var n=this;Le(ze(a.prototype),"update",this).call(this,e,t),this.checkDebugControls(),this.doInputControls(e,t),this.player&&(this.checkPositionalEvents(this.player.x),this.ui.health.foregroundSprite.setScale(this.ui.health.baseScale*this.player.getHealthPercent(),this.ui.health.baseScale),this.endOfLevel||this.player.x>=this.map.widthInPixels-300&&(this.endOfLevel=!0,this.hideUI(),this.doEndOfLevel())),this.ui.warning.topSprite.visible&&this.ui.warning.topSprite.setTilePosition(this.ui.warning.topSprite.tilePositionX+t/1e3*300),this.ui.warning.bottomSprite.visible&&this.ui.warning.bottomSprite.setTilePosition(this.ui.warning.bottomSprite.tilePositionX+t/1e3*300),this.ui.warning.gravityarrow.visible&&this.ui.warning.gravityarrow.setTilePosition(0,this.ui.warning.gravityarrow.tilePositionY+t/1e3*100);var o=null;if(this.lightbeams.forEach((function(e){!1===(0,Ve.get)(e,"destroyed",!1)&&(e.distanceToObject=Math.abs(i().Math.Distance.Between(n.player.x,n.player.y,e.x,e.y)),e.distanceToObject>2e3?(e.lightbeamOnScreen=!1,e.tween.isPlaying()&&e.tween.pause()):((null==o||o.distanceToObject>e.distanceToObject)&&(o=e),e.lightbeamOnScreen=!0,e.tween.isPlaying()||e.tween.resume()))})),null!=o){this.sfx.lightbeam.isPlaying||this.sfx.lightbeam.play({loop:!0});var r=1-o.distanceToObject/2e3;this.sfx.lightbeam.volume=i().Math.Easing.Sine.In(r)*this.sfxVolume}else this.sfx.lightbeam.isPlaying&&this.sfx.lightbeam.stop()}},{key:"onSceneShutdown",value:function(){this.stopAllSounds()}},{key:"setupBackground",value:function(){var e=this.sys.game.scale.gameSize;this.background=this.add.image(0,0,"".concat(this.scene.key,"-background")).setOrigin(0),this.scrollerNumber=(this.background.width-e.width)/this.map.widthInPixels,this.background.setScrollFactor(this.scrollerNumber),this.background.depth=-10}},{key:"showDamageOverlay",value:function(){this.damageOverlay.setVisible(!0),void 0===this.damageOverlay.tween?this.damageOverlay.tween=this.tweens.add({targets:this.damageOverlay,alpha:{from:1,to:0},duration:2e3,ease:"Power2"},this):this.damageOverlay.tween.restart()}},{key:"setupUI",value:function(){var e=this;this.damageOverlay=this.add.sprite(0,0,"damage-overlay").setDepth(15).setVisible(!1).setOrigin(0,0).setScrollFactor(0,0);var t=this.sys.game.scale.gameSize;this.ui.pauseSprite=this.add.sprite(20,20,"sprites2","ui-pause-off").setOrigin(0,0).setInteractive().setScrollFactor(0,0).setDepth(this.ui.depth).setScale(.6).on("pointerdown",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-on"),e.pauseGame()})).on("pointerup",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-off")})).on("pointerout",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-off")})),this.ui.health={baseScale:.5,x:t.width-250},this.ui.health.backgroundSprite=this.add.image(this.ui.health.x,25,"sprites2","health-background").setOrigin(0,0).setDepth(this.ui.depth).setScrollFactor(0,0).setScale(this.ui.health.baseScale),this.ui.health.foregroundSprite=this.add.image(this.ui.health.x+20,38,"sprites2","health-foreground").setOrigin(0,0).setDepth(this.ui.depth).setScrollFactor(0,0).setScale(this.ui.health.baseScale).setTint(i().Display.Color.GetColor(0,255,0)),this.ui.score={background:this.add.image(this.ui.health.x-100,53,"sprites2","pickup-count-background").setOrigin(.5,.5).setScrollFactor(0,0).setDepth(this.ui.depth).setScale(.5),text:this.add.text(this.ui.health.x-100+20,53,"0",{fill:"#FFFFFF",font:"24px Inter"}).setOrigin(.5,.5).setDepth(this.ui.depth).setScrollFactor(0,0)},this.ui.warning={topSprite:this.add.tileSprite(0,0,t.width,360,"ui-warning-top"),bottomSprite:this.add.tileSprite(t.width/2,540,t.width,360,"ui-warning-top")},this.ui.warning.tween=this.tweens.addCounter({from:1,to:.2,duration:700,repeat:-1,paused:!0,yoyo:!0,easing:"Elastic",onUpdate:function(t){e.ui.warning.topSprite.setAlpha(t.getValue()),e.ui.warning.bottomSprite.setAlpha(t.getValue())}}),this.ui.warning.topSprite.setOrigin(0,0).setScrollFactor(0,0).setVisible(!1).setDepth(this.ui.depth),this.ui.warning.bottomSprite.setOrigin(.5,.5).setScrollFactor(0,0).setVisible(!1).setDepth(this.ui.depth).setAngle(180),this.ui.warning.gravityarrow=this.add.tileSprite(t.width/2,t.height/2,200,210,"sprites2","arrows-up").setOrigin(.5,.5).setScrollFactor(0,0).setVisible(!1).setAlpha(.4).setScale(6.5).setDepth(-1),this.ui.downSprite=this.add.sprite(20,550,"sprites2","ui-arrow-down-off").setOrigin(0,0).setScrollFactor(0,0).setInteractive().setDepth(this.ui.depth).on("pointerdown",(function(){e.ui.downSpriteActive=!0,e.ui.downSprite.setX(23)})).on("pointerup",(function(){e.ui.downSpriteActive=!1,e.ui.downSprite.setX(20)})).on("pointerout",(function(){e.ui.downSpriteActive=!1,e.ui.downSprite.setX(20)})),this.ui.upSprite=this.add.sprite(20,370,"sprites2","ui-arrow-up-off").setOrigin(0,0).setInteractive().setScrollFactor(0,0).setDepth(this.ui.depth).on("pointerdown",(function(){e.ui.upSpriteActive=!0})).on("pointerup",(function(){e.ui.upSpriteActive=!1})).on("pointerout",(function(){e.ui.upSpriteActive=!1})),this.ui.rightSprite=this.add.sprite(155,460,"sprites2","ui-arrow-right-off").setOrigin(0,0).setInteractive().setDepth(this.ui.depth).setScrollFactor(0,0).on("pointerdown",(function(){e.ui.rightSpriteActive=!0})).on("pointerup",(function(){e.ui.rightSpriteActive=!1})).on("pointerout",(function(){e.ui.rightSpriteActive=!1}))}},{key:"setupAudio",value:function(){this.bgm=this.sound.add("".concat(this.scene.key,"-music")),this.bgm.play({loop:!0,volume:this.bgmVolume*this.bgmAdjust}),this.sfx.lightbeam=this.sound.add("sfx-lightbeam"),this.sfx.warning=this.sound.add("sfx-warning")}},{key:"checkDebugControls",value:function(){this.debugEnabled&&(this.input.cursorKeys.left.isDown&&(this.player.x+=2*-this.player.verticalSpeed),this.input.debugEndScene.enabled&&this.input.debugEndScene.isDown&&(this.input.debugEndScene.enabled=!1,this.doEndOfLevel()))}},{key:"setupControls",value:function(){var e=this;this.input.cursorKeys=this.input.keyboard.createCursorKeys(),this.input.keyboard.addKey("ESC").on("down",(function(){e.loading||e.pauseGame()})),this.debugEnabled&&(this.input.debugEndScene=this.input.keyboard.addKey("F1"))}},{key:"enableControls",value:function(){this.controlsEnabled=!0}},{key:"disableControls",value:function(){this.controlsEnabled=!1}},{key:"doInputControls",value:function(e,t){if(this.controlsEnabled){var n=!1;(this.ui.downSpriteActive||this.input.cursorKeys.down.isDown)&&(this.player.moveDown(e,t),n=!0),(this.ui.upSpriteActive||this.input.cursorKeys.up.isDown)&&(this.player.moveUp(e,t),n=!0),n||this.player.stopMoving();var o=!1;(this.ui.rightSpriteActive||this.input.cursorKeys.right.isDown)&&(o=!0),o?this.player.boosted||this.player.startBoost():this.player.boosted&&this.player.stopBoost()}}},{key:"setupMap",value:function(e){var t=this;this.map=this.make.tilemap({key:e}),this.map.setBaseTileSize(this.tileSize,this.tileSize),this.matter.world.setBounds(0,0,this.map.widthInPixels+500,this.map.heightInPixels);var n=0;this.terrain.forEach((function(o){if(t.debugLog("checking "+o),t.map.getLayer(o.substr(0,o.length-4))){t.debugLog("adding layer "+o);var i=t.map.addTilesetImage("".concat(e,"/").concat(o),"".concat(t.scene.key,"-").concat(o)),r=t.map.getTileset("".concat(e,"/").concat(o));n=o.includes("bottom")?t.map.heightInPixels-t.sys.game.scale.gameSize.height:0,t.map.createLayer(o.substr(0,o.length-4),i,0,-r.tileHeight+t.tileSize-n).setScale(1).skipCull=!0}})),this.buildColliderForLayer(this.map.getObjectLayer("terrain_collision"));var o=this.add.sprite(this.map.widthInPixels-250,this.map.heightInPixels/2,"sprites2",this.endOfLevelBadge[e]);this.tweens.add({targets:o,scale:{from:1,to:1.2},duration:800,loop:-1,yoyo:!0,ease:"Cubic.easeInOut"})}},{key:"buildColliderForLayer",value:function(e){var t=this,n=0;e.objects.forEach((function(e){var o=t.matter.vertices.create(e.polygon),r=i().Physics.Matter.Matter.Bodies.fromVertices(0,0,o,{ignoreGravity:!0,isStatic:!0,render:{lineThickness:4},label:"terrain"},!1,.01,10);n=e.name.includes("b")?t.map.heightInPixels-t.sys.game.scale.gameSize.height:0,i().Physics.Matter.Matter.Body.setPosition(r,{x:e.x+r.centerOffset.x,y:e.y+r.centerOffset.y-n}),i().Physics.Matter.Matter.World.add(t.matter.world.localWorld,r)}))}},{key:"setupCollisions",value:function(){var e=this;this.matter.world.on("collisionstart",(function(t,n,o){"pickup"!==n.label&&"pickup"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&(n.gameObject.collide(o,t),e.collectPickup(o)),o.gameObject&&"ship"===o.gameObject.name&&(o.gameObject.collide(n,t),e.collectPickup(n))),"terrain"!==n.label&&"terrain"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t)),"debris"!==n.label&&"debris"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t)),"lightbeam"!==n.label&&"lightbeam"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t))})),this.matter.world.on("collisionactive",(function(e,t,n){"lightbeam"!==t.label&&"lightbeam"!==n.label||(t.gameObject&&"ship"===t.gameObject.name&&t.gameObject.collideActive(n,e),n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collideActive(t,e))})),this.matter.world.on("collisionend",(function(e,t,n){"lightbeam"!==t.label&&"lightbeam"!==n.label||(t.gameObject&&"ship"===t.gameObject.name&&t.gameObject.collideFinish(n,e),n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collideFinish(t,e))}))}},{key:"collectPickup",value:function(e){this.sound.play("sfx-pickup",{volume:this.sfxVolume,seek:0,detune:100*i().Math.Between(-5,5)}),this.score+=1,this.ui.score.text.setText(this.score),e.gameObject.tweenX&&e.gameObject.tweenX.remove(),e.gameObject.tweenY&&e.gameObject.tweenY.remove(),e.gameObject.destroy()}},{key:"setupParticles",value:function(){this.particles.debris=this.add.particles("debris-chunk")}},{key:"setupDebris",value:function(){var e=this,t=this.map.getObjectLayer("debris");if(t){var n=[];t.objects.forEach((function(t){n.includes(t.name)||(n.push(t.name),e.load.image("".concat(e.scene.key,"-").concat(t.name),"assets/tilemaps/".concat(e.scene.key,"/").concat(t.name,".png")),e.load.json("".concat(e.scene.key,"-").concat(t.name,"-physics"),"assets/tilemaps/".concat(e.scene.key,"/").concat(t.name,"-physics.json")))})),this.load.once("complete",(function(){t.objects.forEach((function(t){var n=e.cache.json.get("".concat(e.scene.key,"-").concat(t.name,"-physics")),o=e.matter.add.sprite(t.x,t.y,"".concat(e.scene.key,"-").concat(t.name),0,{shape:n[t.name],label:"debris"});o.setDepth(e.ui.depth-1),o.setAngularVelocity((0,Ve.find)(t.properties,{name:"angularVelocity"}).value),o.setVelocityX((0,Ve.find)(t.properties,{name:"velocityX"}).value)}))})),this.load.start()}}},{key:"setupPickups",value:function(){var e=this,t=this.map.getObjectLayer("pickups");t&&t.objects.forEach((function(t){var n=e.cache.json.get("arrows1-physics"),o=e.matter.add.sprite(t.x,t.y,"arrows1",0,{shape:n.arrows1,label:"arrows1"});if(o.setDepth(e.ui.depth-1),o.body.ignoreGravity=!0,void 0!==(0,Ve.find)(t.properties,{name:"moveX"})){var i=(0,Ve.find)(t.properties,{name:"moveX"}).value,r=(0,Ve.find)(t.properties,{name:"moveDuration"}).value,a=0;void 0!==(0,Ve.find)(t.properties,{name:"moveHold"})&&(a=(0,Ve.find)(t.properties,{name:"moveHold"}).value);var s=0;void 0!==(0,Ve.find)(t.properties,{name:"delay"})&&(s=(0,Ve.find)(t.properties,{name:"delay"}).value),o.tweenX=e.tweens.addCounter({from:t.x,to:t.x+i,duration:r,hold:a,loopDelay:a,delay:s,yoyo:!0,ease:"Quart.easeInOut",loop:-1,onUpdate:function(e){o.x=e.getValue()}})}if(void 0!==(0,Ve.find)(t.properties,{name:"moveY"})){var l=(0,Ve.find)(t.properties,{name:"moveY"}).value,c=(0,Ve.find)(t.properties,{name:"moveDuration"}).value,u=0;void 0!==(0,Ve.find)(t.properties,{name:"moveHold"})&&(u=(0,Ve.find)(t.properties,{name:"moveHold"}).value);var p=0;void 0!==(0,Ve.find)(t.properties,{name:"delay"})&&(p=(0,Ve.find)(t.properties,{name:"delay"}).value),o.tweenY=e.tweens.addCounter({from:t.y,to:t.y+l,duration:c,hold:u,loopDelay:u,delay:p,ease:"Quart.easeInOut",yoyo:!0,loop:-1,onUpdate:function(e){o.y=e.getValue()}})}}))}},{key:"setupLightbeams",value:function(){var e=this,t=this.map.getObjectLayer("lightbeams");if(t){var n=[];t.objects.forEach((function(t){n.includes(t.name)||(n.push(t.name),e.load.image(t.name,"assets/sprites/".concat(t.name,".png")),e.load.json("".concat(t.name,"-physics"),"assets/sprites/".concat(t.name,"-physics.json")))})),this.load.once("complete",(function(){t.objects.forEach((function(t){var n=e.cache.json.get("".concat(t.name,"-physics")),o=e.matter.add.sprite(t.x,t.y,t.name,0,{shape:n[t.name],label:"lightbeam"});o.setScale(1,1.5),o.setDepth(-1),o.body.ignoreGravity=!0,void 0!==(0,Ve.find)(t.properties,{name:"angle"})&&o.setAngle((0,Ve.find)(t.properties,{name:"angle"}).value),o.tween=e.tweens.addCounter({from:1,to:.7,duration:954,repeat:-1,paused:!0,onUpdate:function(e){o.setAlpha(e.getValue())}}),e.lightbeams.push(o)}))})),this.load.start()}}},{key:"setupCamera",value:function(){var e=this.sys.game.scale.gameSize;this.cameras.main.startFollow(this.player,!1,.05,0,-1*Math.floor(e.width/4)),this.cameras.main.setBounds(0,0,this.map.widthInPixels-this.tileSize,this.map.heightInPixels-this.tileSize),this.cameras.main.disableCull=!0}},{key:"enableDebugGraphics",value:function(){this.matter.world.createDebugGraphic();var e=this.add.graphics().setAlpha(.25).setDepth(20);this.map.renderDebug(e,{tileColor:new(i().Display.Color)(105,210,231,150),collidingTileColor:new(i().Display.Color)(243,0,0,200),faceColor:new(i().Display.Color)(40,39,37,150)})}},{key:"collideDestroy",value:function(e,t){switch(e.label){case"debris":case"lightbeam":e.enable=!1,e.gameObject.setCollisionCategory(null),e.gameObject.destroyed=!0,this.tweens.addCounter({from:1,to:0,duration:500,onUpdate:function(t){e.gameObject.setAlpha(t.getValue())},onComplete:function(){e.gameObject.setVisible(!1)}});var n=this.particles.debris.createEmitter({frequency:-1,quantity:30,radial:!0,scale:{start:4,end:0},speed:{min:-500,max:500},rotate:{min:0,max:360},blendMode:"ADD",lifespan:2e3,on:!1});n.startFollow(e.gameObject),n.explode()}switch(e.label){case"lightbeam":this.sfx.lightbeam.stop(),e.gameObject.tween.remove()}}},{key:"doGameOver",value:function(){var e=this;this.cameras.main.stopFollow(this.player,!1,5),this.tweens.addCounter({from:0,to:-300,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setDetune(t.getValue())}}),this.tweens.addCounter({from:1,to:.7,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setRate(t.getValue())}}),this.tweens.addCounter({from:this.bgm.volume,to:.2,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setVolume(t.getValue())}})}},{key:"doEndOfLevel",value:function(){this.player.stopBoost(),this.disableControls(),this.player.disablePhysics(),this.scene.launch("end-of-level-score",{previousScore:this.previousScore,playerScore:this.score,playerHealth:this.player.health,scene:this}),this.scene.bringToTop("end-of-level-score")}},{key:"showWarningUI",value:function(){this.ui.warning.topSprite.setVisible(!0),this.ui.warning.bottomSprite.setVisible(!0),this.ui.warning.tween.resume(),this.sfx.warning.play({loop:!0,volume:.8*this.sfxVolume})}},{key:"hideWarningUI",value:function(){var e=this;this.tweens.addCounter({from:this.ui.warning.topSprite.alpha,to:0,duration:500,onUpdate:function(t){e.ui.warning.topSprite.alpha=t.getValue(),e.ui.warning.bottomSprite.alpha=t.getValue()},onComplete:function(){e.ui.warning.topSprite.setVisible(!1),e.ui.warning.bottomSprite.setVisible(!1)}}),this.ui.warning.tween.stop(),this.sfx.warning.stop()}},{key:"applyGravity",value:function(e){this.matter.world.setGravity(0,e,.001)}},{key:"disableGravity",value:function(){this.matter.world.disableGravity()}},{key:"showGravityArrow",value:function(e){var t=this;this.ui.warning.gravityarrow.setVisible(!0).setAlpha(0),this.tweens.addCounter({from:0,to:.5,duration:500,onUpdate:function(e){t.ui.warning.gravityarrow.setAlpha(e.getValue())}}),this.ui.warning.gravityarrow.angle=e}},{key:"hideGravityArrow",value:function(){var e=this;this.tweens.addCounter({from:.5,to:0,duration:500,onUpdate:function(t){e.ui.warning.gravityarrow.setAlpha(t.getValue())},onComplete:function(){e.ui.warning.gravityarrow.setVisible(!1)}})}},{key:"hideUI",value:function(){this.tweens.add({targets:[this.ui.pauseSprite,this.ui.rightSprite,this.ui.upSprite,this.ui.downSprite],alpha:0,duration:3e3,ease:"Power2"},this)}},{key:"checkPositionalEvents",value:function(e){var t=this;this.positionBasedEvents.forEach((function(n){if(e>=n.x&&!n.triggered)switch(n.triggered=!0,n.type){case"applyGravity":t.applyGravity(n.params.amount);break;case"disableGravity":t.disableGravity();break;case"showWarningUI":t.showWarningUI();break;case"hideWarningUI":t.hideWarningUI();break;case"showGravityArrow":t.showGravityArrow(n.params.angle);break;case"hideGravityArrow":t.hideGravityArrow()}}))}}])&&Ue(t.prototype,n),o&&Ue(t,o),a}(P);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ke(e,t,n){return(Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Je(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Je(e);if(t){var i=Je(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?Ze(e):t}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nt(e,t,n){return(nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=st(e);if(t){var i=st(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return rt(this,n)}}function rt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?at(e):t}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pt(e,t,n){return(pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?yt(e):t}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wt(e,t,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_t(e);if(t){var i=_t(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rt(e,t,n){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=It(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=It(e);if(t){var i=It(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Vt(e):t}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=[p,L,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(r,e);var t,n,o,i=Ne(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),$e(Ze(e=i.call(this,{key:"level-one"})),"player",void 0),$e(Ze(e),"bgmAdjust",.8),$e(Ze(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_rock_4.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_rock_5.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png","top_terrain_4.png","top_terrain_5.png","top_terrain_6.png"]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-one preload"),Ke(Je(r.prototype),"preload",this).call(this)}},{key:"create",value:function(e){Ke(Je(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new Ae(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.setupTutorialText()}},{key:"setupTutorialText",value:function(){var e={fill:"#FFFFFF",font:"32px Inter"};this.tUpDown=this.add.text(900,350,d()["level-one"].upDown,e),this.tAvoidTerrain=this.add.text(1900,180,d()["level-one"].avoidTerrain,e),this.tCollect=this.add.text(2850,150,d()["level-one"].collect,e),this.tAvoidDebris=this.add.text(3750,200,d()["level-one"].avoidDebris,e),this.tUseBoost=this.add.text(5050,200,d()["level-one"].useBoost,e)}},{key:"update",value:function(e,t){Ke(Je(r.prototype),"update",this).call(this,e,t)}}])&&He(t.prototype,n),o&&He(t,o),r}(Xe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(r,e);var t,n,o,i=it(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),lt(at(e=i.call(this,{key:"level-two"})),"player",void 0),lt(at(e),"bgmAdjust",.7),lt(at(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","bottom_terrain_4.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png","top_terrain_4.png"]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-two preload"),nt(st(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/R92ME5V-level-two.mp3")}},{key:"create",value:function(e){nt(st(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new Ae(this,200,350),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&tt(t.prototype,n),o&&tt(t,o),r}(Xe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(r,e);var t,n,o,i=ft(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),mt(yt(e=i.call(this,{key:"level-three"})),"player",void 0),mt(yt(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_rock_4.png","bottom_rock_5.png","bottom_rock_6.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","bottom_terrain_4.png","bottom_terrain_5.png","bottom_terrain_6.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_rock_5.png","top_rock_6.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png"]),mt(yt(e),"positionBasedEvents",[{x:1e3,type:"showWarningUI"},{x:1100,type:"showGravityArrow",params:{angle:180}},{x:1500,type:"applyGravity",params:{amount:.08}},{x:1700,type:"hideWarningUI"},{x:1700,type:"hideGravityArrow"},{x:4200,type:"showWarningUI"},{x:4300,type:"showGravityArrow",params:{angle:0}},{x:4500,type:"applyGravity",params:{amount:-.08}},{x:4700,type:"hideWarningUI"},{x:4700,type:"hideGravityArrow"}]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-three preload"),pt(gt(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/EWH88RP-level-three.mp3")}},{key:"create",value:function(e){pt(gt(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new Ae(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&ut(t.prototype,n),o&&ut(t,o),r}(Xe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(r,e);var t,n,o,i=kt(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),jt(xt(e=i.call(this,{key:"level-four"})),"player",void 0),jt(xt(e),"bgmAdjust",1),jt(xt(e),"beat",.858),jt(xt(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_rock_4.png","bottom_rock_5.png","bottom_rock_6.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","top_rock_1.png","top_rock_2.png","top_terrain_1.png","top_terrain_2.png"]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-four preload"),wt(_t(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/6LTVTE5-level-four.mp3")}},{key:"create",value:function(e){wt(_t(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new Ae(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupLightbeams(),this.setupPickups(),this.setupAudio(),this.cameras.main.fadeIn(200,0,0,0)}}])&&vt(t.prototype,n),o&&vt(t,o),r}(Xe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(r,e);var t,n,o,i=Ct(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Dt(Vt(e=i.call(this,{key:"level-five"})),"player",void 0),Dt(Vt(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_6.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","bottom_terrain_4.png","bottom_terrain_5.png"]),Dt(Vt(e),"positionBasedEvents",[{x:2200,type:"showWarningUI"},{x:2500,type:"applyGravity",params:{amount:.05}},{x:2700,type:"hideWarningUI"},{x:4500,type:"applyGravity",params:{amount:-.1}},{x:5e3,type:"disableGravity"}]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-five preload"),Rt(It(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/E36F5VL-level-five.mp3")}},{key:"create",value:function(e){Rt(It(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new Ae(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupLightbeams(),this.setupDebris(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&Et(t.prototype,n),o&&Et(t,o),r}(Xe),K,ne,pe,we],Lt=n(9044),Ft=n(3228),Gt=n(6953);const Bt={scale:{parent:"game",mode:Phaser.Scale.FIT,width:1280,height:720,autoCenter:Phaser.Scale.CENTER_HORIZONTALLY},type:Phaser.AUTO,antialiasGL:!0,pixelArt:!1,roundPixels:!0,audio:{disableWebAudio:!1},parent:"game",dom:{createContainer:!0},physics:{default:"matter",matter:{gravity:{y:0},enableSleep:!0}},scene:Ut,plugins:{global:[{key:"rexWebFontLoader",plugin:Lt.Z,start:!0},{key:"rexBBCodeTextPlugin",plugin:Ft.Z,start:!0}],scene:[{key:"rexUI",plugin:Gt.Z,mapping:"rexUI"}]}};var Mt=new(i().Game)(Bt);window.phaserGame=Mt},4480:e=>{e.exports={startText:{paragraph:"In a galaxy deep in space a team of IT specialists are on a cosmic quest to find the pillars of Azure.\n\nAs their pilot, your mission is to guide them safely through deep space, unlocking each stage of architectural excellence, while avoiding obstacles that could crash the ship and jeopardise the mission.",start:"  PLAY  "},howToPlay:{text1:"Use the arrow buttons to navigate up and down",text2:"Press the boost button [>>] to boost through beams",text3:"Collect as many arrows as possible",text4:"Avoid space pillars and rocks",text5:"Keep an eye on your energy bar"},endText:{paragraph:"Congratulations! You’ve unlocked all five pillars of Azure and created a robust and well-architected cloud environment to carry your business into the future. \n\nWhether you’re just starting out moving workloads to Azure, or you’re taking the next step to expand your Azure deployment, Grey Matter can help you with your cloud strategy.",getScore:"View your final score"},"level-one":{upDown:"Use the arrow keys\nto move up and down",avoidTerrain:"Avoid space pillars and rocks",collect:"Collect as many arrows as possible",avoidDebris:"Avoid floating debris",useBoost:"Press the boost button [>>] \nto boost through beams",endOfLevelTitle:"Unlocked: Cost Optimisation",unlockHeading:"STAGE 1 COMPLETED!",unlockText:"You purchased a three-year reservation which decreased your costs by up to 72% compared to consumption-based billing.\n\nFind out more about Azure cost optimisation tactics from Grey Matter's expert licensing team."},"level-two":{endOfLevelTitle:"Unlocked: Operational Excellence",unlockHeading:"STAGE 2 COMPLETED!",unlockText:"You adopted Azure DevOps to increase agile planning, continuous integration, continuous delivery, and monitoring of applications.\n\nFind out more about Microsoft's complementary third-party tools to support your development lifecycle from Grey Matter's technical experts."},"level-three":{endOfLevelTitle:"Unlocked: Performance Efficiency",unlockHeading:"STAGE 3 COMPLETED!",unlockText:"You discovered Azure Autoscale to support Azure Virtual Machines Scale Sets.\n\nFind out more about performance efficiency, including autoscaling with Virtual Machines and Kubernetes available in Microsoft Azure\nfrom Grey Matter’s certified team."},"level-four":{endOfLevelTitle:"Unlocked: Reliability",unlockHeading:"STAGE 4 COMPLETED!",unlockText:"You successfully created a reliable application by planning for disaster recovery. The Azure cloud platform gives you a resilient foundation for all your workloads.\n\nFind out more about building according to resiliency and availability principles from Grey Matter’s security experts."},"level-five":{endOfLevelTitle:"Unlocked: Security",unlockHeading:"STAGE 5 COMPLETED!",unlockText:"You adopted a zero-trust security strategy and employed Azure Security Center and Azure Sentinel to monitor your security stature across on-premises, Azure and Microsoft 365 workloads.\n\nFind out more about Azure security from Grey Matter’s security experts."}}},6786:e=>{e.exports={colour:{accent1:128,accent2:16729344,accent3:35583,accent4:4510711,accent4hex:"#44d3f7"}}}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=t,e=[],o.O=(t,n,i,r)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,i,r]=e[c],s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,r<a&&(a=r));s&&(e.splice(c--,1),t=i())}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={757:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[a,s,l]=n,c=0;for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(l)var u=l(o);for(t&&t(n);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[a[c]]=0;return o.O(u)},n=self.webpackChunkgreymatterazurespacegame=self.webpackChunkgreymatterazurespacegame||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[736],(()=>o(1295)));i=o.O(i)})();