(()=>{var e,t={9421:(e,t,n)=>{"use strict";n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var o=n(2260),i=n.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t,n,o,i=l(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this,{key:"Boot"})}return t=r,(n=[{key:"create",value:function(){this.scene.transition({target:"Splash",duration:1e3,remove:!0})}}])&&a(t.prototype,n),o&&a(t,o),r}(i().Scene),h=(n(9554),n(4747),n(4819),n(5003),n(101));n(8309),n(9720),n(9753),n(7042),n(1038);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,o,r=v(a);function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),x(S(o=r.call(this,e,t,n)),"scene",void 0),x(S(o),"ship",void 0),x(S(o),"flame1",void 0),x(S(o),"flameParticles",void 0),x(S(o),"flameParticlesEmitter",void 0),x(S(o),"damageParticles",void 0),x(S(o),"damageEmitter",void 0),x(S(o),"explosion",void 0),x(S(o),"controlsEnabled",!0),x(S(o),"physicsOffset",{x:-200,y:-99}),x(S(o),"moving",!1),x(S(o),"boosted",0),x(S(o),"speed",250),x(S(o),"boostSpeed",550),x(S(o),"verticalSpeed",10),x(S(o),"health",100),x(S(o),"alive",!0),x(S(o),"bankingAngle",10),x(S(o),"collidingWithLightbeam",!1),x(S(o),"sfx",{}),o.name="ship",o.scene=e,o.setupSprites(),o.setupPhysics(),o.setupAudio(),e.add.existing(S(o)),o.currentSpeed=o.speed,o}return t=a,(n=[{key:"getHealthPercent",value:function(){return this.health/100}},{key:"setupAudio",value:function(){this.sfx={boost:this.scene.sound.add("ship-boost")}}},{key:"setupPhysics",value:function(){var e=this.scene.cache.json.get("ship-shape");this.scene.matter.add.gameObject(this,{shape:e.Spritesheet,label:"player"}),this.setScale(.5),i().Physics.Matter.Matter.Body.setInertia(this.body,1/0),this.ship.setPosition(this.body.centerOffset.x+this.physicsOffset.x,this.body.centerOffset.y+this.physicsOffset.y),this.flame1.setPosition(this.body.centerOffset.x-385,this.body.centerOffset.y-99)}},{key:"disablePhysics",value:function(){this.enable=!1,this.setCollisionCategory(null)}},{key:"setupSprites",value:function(){this.ship=new(i().GameObjects.Sprite)(this.scene,0,100,"sprites","ship.png"),this.add(this.ship),this.ship.depth=50,this.flame1=new(i().GameObjects.Sprite)(this.scene,0,150,"sprites","flame1.png"),this.add(this.flame1),this.flame1.anims.create({key:"ship-flame",frames:[{key:"sprites",frame:"flame1.png"},{key:"sprites",frame:"flame2.png"}],frameRate:2,repeat:-1}),this.flame1.play("ship-flame",!0),this.flame1.anims.create({key:"boost-flame",frames:[{key:"sprites",frame:"boost1.png"},{key:"sprites",frame:"boost2.png"}],frameRate:4,repeat:-1}),this.flameParticles=this.scene.add.particles("sprites2","particle-yellow"),this.flameParticlesEmitter=this.flameParticles.createEmitter({frequency:100,quantity:1,radial:!0,scale:{start:1,end:0},alpha:{start:1,end:0},speedX:{min:-300,max:-200},speedY:{min:-30,max:30},blendMode:"ADD",lifespan:2e3,on:!0}),this.flameParticlesEmitter.startFollow(this,-93),this.damageParticles=this.scene.add.particles("sprites","explosion animation 8.png"),this.damageEmitter=this.damageParticles.createEmitter({frequency:600,frame:["explosion animation 8.png","explosion animation 7.png","explosion animation 6.png"],quantity:1,scale:{start:.3,end:1},alpha:{start:1,end:0},speedX:{min:-10,max:200},speedY:{min:-30,max:30},blendMode:"ADD",lifespan:1e3,on:!1}),this.damageEmitter.startFollow(this,-10),this.explosion=new(i().GameObjects.Sprite)(this.scene,0,-30,"sprites","explosion animation 5.png"),this.add(this.explosion),this.explosion.setScale(2),this.explosion.setVisible(!1),this.explosion.anims.create({key:"explosion",frames:[{key:"sprites",frame:"explosion animation.png"},{key:"sprites",frame:"explosion animation 2.png"},{key:"sprites",frame:"explosion animation 3.png"},{key:"sprites",frame:"explosion animation 4.png"},{key:"sprites",frame:"explosion animation 5.png"},{key:"sprites",frame:"explosion animation 6.png"},{key:"sprites",frame:"explosion animation 7.png"},{key:"sprites",frame:"explosion animation 8.png"}],frameRate:4,repeat:0,hideOnComplete:!0,showOnStart:!0})}},{key:"collide",value:function(e,t){var n=this,o=!0;switch(e.label){case"terrain":this.collideWithTerrain(e);break;case"debris":this.collideWithDebris(e,t);break;case"lightbeam":this.collideWithLightbeam(e,t),o=!1;break;case"pickup":o=!1}o&&this.scene.tweens.addCounter({from:0,to:255,duration:250,onUpdate:function(e){var t=Math.floor(e.getValue());n.ship.setTint(i().Display.Color.GetColor(255,t,t))}})}},{key:"collideActive",value:function(e,t){switch(e.label){case"lightbeam":this.collideWithLightbeamActive(e,t)}}},{key:"collideFinish",value:function(e,t){switch(e.label){case"lightbeam":this.collideWithLightbeamFinish(e,t)}}},{key:"collideWithTerrain",value:function(e){var t=this;1===this.boosted?this.health-=15:this.health-=10,this.health<0&&(this.health=0),this.scene.cameras.main.shake(500,.01),this.scene.tweens.addCounter({from:-200,to:0,duration:1e3,ease:"Back",onUpdate:function(e){t.scene.bgm.setDetune(e.getValue())}})}},{key:"collideWithDebris",value:function(e,t){var n=this;1!==this.boosted&&(this.health-=5),this.health<0&&(this.health=0),this.scene.cameras.main.shake(300,.005),this.scene.tweens.addCounter({from:-100,to:0,duration:300,ease:"Back",onUpdate:function(e){n.scene.bgm.setDetune(e.getValue())}}),this.scene.tweens.addCounter({from:200,to:255,duration:250,onUpdate:function(t){var n=Math.floor(t.getValue());e.gameObject.setTint(i().Display.Color.GetColor(n,n,n))}}),this.scene.collideDestroy(e,t)}},{key:"collideWithLightbeam",value:function(e,t){var n=this;1!==this.boosted?this.collidingWithLightbeam||(this.collidingWithLightbeam=!0,this.collisingWithLightbeamTween=this.scene.tweens.addCounter({from:1,to:3,duration:250,repeat:-1,onUpdate:function(e){3!==Math.floor(e.getValue())?n.ship.clearTint():(n.ship.setTintFill(16777215),n.scene.cameras.main.shake(250,.003))}})):(this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove(),this.scene.collideDestroy(e,t))}},{key:"collideWithLightbeamActive",value:function(e,t){1===this.boosted&&(this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove(),this.scene.collideDestroy(e,t))}},{key:"collideWithLightbeamFinish",value:function(){this.collidingWithLightbeam=!1,this.collisingWithLightbeamTween&&this.collisingWithLightbeamTween.remove()}},{key:"update",value:function(e,t){b(k(a.prototype),"update",this).call(this,e,t),this.collidingWithLightbeam&&(this.health-=t/1e3*10,this.health<0&&(this.health=0)),this.flame1.anims.update(e,t),this.checkHealth()&&(this.moving||(this.angle>0&&(this.angle-=t/1e3*90,this.angle<0&&(this.angle=0)),this.angle<0&&(this.angle+=t/1e3*90,this.angle>0&&(this.angle=0))),this.setVelocityX(this.currentSpeed/100))}},{key:"stopAllSounds",value:function(){if(this.sfx)for(var e=0,t=Object.entries(this.sfx);e<t.length;e++){var n=d(t[e],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[n],"isPlaying")&&this.sfx[n].pause()}}},{key:"moveDown",value:function(e,t){this.boosted||(this.scene.ui.downSprite.setTexture("sprites2","ui-arrow-down-on"),this.moving=!0,this.y+=this.verticalSpeed/2,this.setVelocityY(0),this.angle<this.bankingAngle&&(this.angle+=t/1e3*90))}},{key:"moveUp",value:function(e,t){this.boosted||(this.scene.ui.upSprite.setTexture("sprites2","ui-arrow-up-on"),this.moving=!0,this.y-=this.verticalSpeed/2,this.setVelocityY(0),this.angle>-1*this.bankingAngle&&(this.angle-=t/1e3*90))}},{key:"stopMoving",value:function(){this.scene.ui.upSprite.setTexture("sprites2","ui-arrow-up-off"),this.scene.ui.downSprite.setTexture("sprites2","ui-arrow-down-off"),this.moving=!1}},{key:"startBoost",value:function(){this.scene.ui.rightSprite.setTexture("sprites2","ui-arrow-right-on"),this.flame1.play("boost-flame",!0),this.boosted=1,this.sfx.boost.play({loop:!0,volume:this.scene.sfxVolume}),this.currentSpeed=this.boostSpeed,this.flameParticlesEmitter.setQuantity(4)}},{key:"stopBoost",value:function(){var e=this;this.scene.ui.rightSprite.setTexture("sprites2","ui-arrow-right-off"),this.boosted=0,this.flameParticlesEmitter.setQuantity(1),this.scene.tweens.addCounter({from:this.sfx.boost.volume,to:0,duration:200,onUpdate:function(t){e.sfx.boost.volume=t.getValue()},onComplete:function(){e.sfx.boost.pause()}}),this.flame1.play("ship-flame",!0),this.scene.tweens.addCounter({from:this.currentSpeed,to:this.speed,duration:1e3,onUpdate:function(t){1!==e.boosted&&(e.currentSpeed=Math.floor(t.getValue()))}})}},{key:"checkHealth",value:function(){return this.health<=20&&this.ship.setTexture("sprites","ship_damage_1.png"),this.health<=10&&this.ship.setTexture("sprites","ship_damage_2.png"),!(this.health<=0&&(!0===this.alive&&(this.alive=!1,this.flameParticlesEmitter.setSpeed(20).setScale(3).setBlendMode(i().BlendModes.DARKEN),this.damageEmitter.start()),0))}}])&&g(t.prototype,n),o&&g(t,o),a}(i().GameObjects.Container),j=n(4480),_=n.n(j),P=n(6786),E=n.n(P);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,o,r=V(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),L(U(e=r.call(this,{key:"Splash"})),"loading",void 0),L(U(e),"updatable",[]),L(U(e),"bgmVolume",.1),e.loading=!1,e}return t=a,(n=[{key:"preload",value:function(){this.setupProgressBar(),this.load.image("splash","assets/sprites/azure-cosmic-quest.png"),this.load.atlas("sprites","assets/sprites/spritesheet.png","assets/sprites/spritesheet.json",i().Loader.TEXTURE_ATLAS_JSON_HASH),this.load.atlas("sprites2","assets/sprites/spritesheet2.png","assets/sprites/spritesheet2.json",i().Loader.TEXTURE_ATLAS_JSON_HASH),this.load.image("logo","assets/sprites/logo.png"),this.load.json("ship-shape","assets/sprites/ship-shape.json"),this.load.audio("splash-music","assets/music/Z3ZS7VN-intro.mp3"),this.load.audio("ship-boost","assets/audio/spaceEngineLarge_002b.ogg"),this.load.audio("sfx-lightbeam","assets/audio/forceField_000.ogg"),this.load.audio("sfx-score","assets/audio/toggle_002.ogg"),this.load.audio("sfx-warning","assets/audio/phaseJump2.ogg"),this.load.audio("sfx-pickup","assets/audio/Audio/laserLarge_002.ogg"),this.load.image("debris-chunk","assets/sprites/debris-chunk.png"),this.load.image("arrows1","assets/sprites/arrows1.png"),this.load.json("arrows1-physics","assets/sprites/arrows1-physics.json"),this.load.image("background-splash","assets/sprites/background-splash.png"),this.load.image("background-dialog","assets/sprites/background-dialog.png"),this.load.image("background-panel","assets/sprites/background-panel.png"),this.load.image("ui-blank-button","assets/sprites/ui_blank_button.png"),this.load.image("ui-warning-top","assets/sprites/ui-warning-top.png"),this.load.rexWebFont({google:{families:["Inter"]},testString:"Inter",testInterval:20}),this.load.tilemapTiledJSON("level-one","assets/tilemaps/level-one.json"),this.load.audio("level-one-music","assets/music/R92ME5V-level-one.mp3")}},{key:"create",value:function(){var e=this;this.sound.pauseOnBlur=!0,this.cameras.main.backgroundColor=i().Display.Color.HexStringToColor("#191970"),this.background=this.add.image(0,0,"background-splash").setOrigin(0).setScale(.7),this.background.depth=-10;var t=this.sys.game.scale.gameSize,n=this.add.sprite(t.width,0,"logo").setOrigin(1,0);this.add.image(40,n.height/2,"splash").setOrigin(0,.5);var o=new h.bU(this,0,0,"",{fixedWidth:t.width-200,fixedHeight:t.height/3,fontSize:"30px",fontFamily:"Inter",wrap:{mode:"word",width:t.width-200},maxLines:10}),r=new h.zC(this,{x:100,y:200,background:this.rexUI.add.roundRectangle(0,0,2,2,20,0,.4),text:o,space:{left:20,right:20,top:20,bottom:20,icon:0,text:0}}).setOrigin(0).layout();this.add.existing(r),this.add.existing(o),r.start(_().startText.paragraph,10);var a=new h.EK(this,{x:t.width/2,y:t.height-100,buttons:[this.rexUI.add.label({width:100,height:60,background:this.rexUI.add.roundRectangle(0,0,0,0,20,E().colour.accent3),text:this.add.text(0,0,_().startText.start,{fontSize:30,fontFamily:"Inter"}),space:{left:10,right:10}})],click:{mode:"pointerup",clickInterval:1e3}}).setOrigin(.5).layout();a.on("button.click",(function(t,n,o,i){e.scale.isFullscreen,e.loadLevel("level-one")})),a.on("button.over",(function(e,t,n,o){e.getElement("background").setStrokeStyle(5,E().colour.accent2)})),a.on("button.out",(function(e,t,n,o){e.getElement("background").setStrokeStyle()})),this.add.existing(a),this.bgm=this.sound.add("splash-music"),this.bgm.play({loop:!1,volume:.8}),this.player=new O(this,400,t.height-100),this.player.speed=0,this.player.currentSpeed=0,this.player.boostSpeed=0,this.player.verticalSpeed=0,this.updatable.push(this.player)}},{key:"loadLevel",value:function(e){var t=this;this.loading||(this.loading=!0,this.player.currentSpeed=400,this.player.flame1.play("boost-flame",!0),this.tweens.addCounter({from:this.bgm.volume,to:0,duration:1e3,onUpdate:function(e){t.bgm.volume=e.getValue()}}),this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once(i().Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){t.scene.transition({target:e,duration:1e3,remove:!0})})))}},{key:"update",value:function(e,t){R(D(a.prototype),"update",this).call(this,e,t),this.updatable.forEach((function(n){n.update(e,t)}))}},{key:"setupProgressBar",value:function(){var e=this.add.graphics({x:250,y:250}),t=this.add.graphics({x:250,y:250}).fillStyle(12500670,.8).fillRect(240,270,320,50),n=this.cameras.main.width,o=this.cameras.main.height,i=this.make.text({x:n/2,y:o/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}}).setOrigin(.5,.5),r=this.make.text({x:n/2,y:o/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}}).setOrigin(.5,.5);this.load.on("progress",(function(t){e.clear(),e.fillStyle(16777215,1),e.fillRect(250,280,300*t,30),r.setText(Math.floor(100*t)+"%")})),this.load.on("complete",(function(){e.destroy(),t.destroy(),i.destroy(),r.destroy()}))}}])&&A(t.prototype,n),o&&A(t,o),a}(i().Scene);n(2222);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=K(e);if(t){var i=K(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,e);var t,n,o,i=H(r);function r(e){var t,n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),n=Y(t),a=[],(o="updatable")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,t.updatable=[],t}return t=r,(n=[{key:"debugLog",value:function(e){this.debugEnabled&&console.debug(e)}},{key:"preload",value:function(){}},{key:"create",value:function(e){var t=this;this.events.on("shutdown",(function(){t.onSceneShutdown()}))}},{key:"update",value:function(e,t){this.updatable.forEach((function(n){n.update(e,t)}))}},{key:"onSceneShutdown",value:function(){this.stopAllSounds()}},{key:"pauseGame",value:function(){this.scene.launch("pause-scene",{scene:this}),this.scene.bringToTop("pause-scene"),this.scene.pause(this.scene.key)}},{key:"stopAllSounds",value:function(){if(this.sfx)for(var e=0,t=Object.entries(this.sfx);e<t.length;e++){var n=B(t[e],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[n],"isPlaying")&&this.sfx[n].pause()}this.bgm&&this.bgm.pause(),this.player&&this.player.stopAllSounds()}}])&&W(t.prototype,n),o&&W(t,o),r}(i().Scene);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Z(e,t,n){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ne(e);if(t){var i=ne(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,e);var t,n,o,r=$(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),oe(te(e=r.call(this,{key:"end-of-level-score"})),"data",{}),oe(te(e),"dialog",void 0),oe(te(e),"parentScene",{}),oe(te(e),"sceneProgression",{"level-one":"level-two","level-two":"level-three","level-three":"level-four","level-four":"level-five","level-five":"end"}),oe(te(e),"score",{levelPickups:null,levelPickupsValue:0,shipEnergy:null,shipEnergyValue:0,totalScore:null,totalScoreValue:0}),oe(te(e),"dialog",void 0),oe(te(e),"continueLabel",void 0),oe(te(e),"scoreGrid",void 0),oe(te(e),"scoringStatus",0),oe(te(e),"sfx",{}),e}return t=a,(n=[{key:"create",value:function(e){Z(ne(a.prototype),"create",this).call(this,e),this.debugLog("end-of-level-score.create()"),this.data=e,this.parentScene=e.scene,this.data.bgmVolume=this.parentScene.bgmVolume,this.data.sfxVolume=this.parentScene.sfxVolume,this.scoringStatus=0,this.setupScoreDialog(),this.setupSFX()}},{key:"update",value:function(e,t){Z(ne(a.prototype),"update",this).call(this,e,t),this.updateScores(e,t)}},{key:"onSceneShutdown",value:function(){Z(ne(a.prototype),"onSceneShutdown",this).call(this)}},{key:"setupScoreDialog",value:function(){var e=this,t=this.sys.game.scale.gameSize,n=this.add.sprite(0,0,"background-dialog"),o={fontSize:"24px",fontFamily:"Inter"},i=this.parentScene.scene.key;this.continueLabel=this.rexUI.add.label({width:100,height:50,background:this.rexUI.add.roundRectangle(0,0,0,0,20,E().colour.accent3),text:this.add.text(0,0,"Continue",{fontSize:"24px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}}).setAlpha(.2);var r=t.width-300;this.dialog=this.rexUI.add.dialog({x:t.width/2,y:t.height/2,background:n,title:this.rexUI.add.label({text:this.add.text(0,0,_()[i].endOfLevelTitle,{fontSize:"50px",fontFamily:"Inter"}),align:"center",anchor:"center"}),content:this.rexUI.add.label({width:r-60,height:200,text:this.add.rexBBCodeText(0,0,"[b]".concat(_()[i].unlockHeading,"[/b]\n\n").concat(_()[i].unlockText),{fontFamily:"Inter",fontSize:"24px",halign:"center",wrap:{mode:1,width:r}}),space:{left:30,right:30,top:10,bottom:180}}),actions:[this.continueLabel],actionsAlign:"center",align:{title:"center",content:"center",description:"center",choices:"center",actions:"center"},space:{title:20,action:10,left:50,right:50,top:40,bottom:60}}).layout().popUp(1e3),this.dialog.on("button.click",(function(t,n,o,r,a){e.scoringStatus>=4&&e.loadLevel(e.sceneProgression[i])})).on("button.over",(function(t,n,o,i,r){e.scoringStatus>=4&&t.getElement("background").setStrokeStyle(5,E().colour.accent2)})).on("button.out",(function(t,n,o,i,r){e.scoringStatus>=4&&t.getElement("background").setStrokeStyle()})),this.scoreGrid=this.rexUI.add.gridSizer(t.width/2,t.height/2+100,500,120,{column:2,row:3,columnProportions:[50,50],rowProportions:[33,33,33],space:{left:10,right:10,top:5,bottom:5,column:20,row:5}}),this.scoreGrid.addBackground(this.rexUI.add.roundRectangle(0,0,2,2,20,E().colour.accent1)),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"Level Pickups",o),align:"right"}),{column:0,row:0,expand:!0}),this.score.levelPickupsValue=this.data.playerScore,this.score.levelPickups=this.add.text(0,0,this.score.levelPickupsValue,o),this.scoreGrid.add(this.rexUI.add.label({text:this.score.levelPickups,align:"left"}),{column:1,row:0,expand:!0}),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"Ship Energy",o),align:"right"}),{column:0,row:1,expand:!0}),this.score.shipEnergyValue=Math.floor(this.data.playerHealth),this.score.shipEnergy=this.add.text(0,0,this.score.shipEnergyValue,o),this.scoreGrid.add(this.rexUI.add.label({text:this.score.shipEnergy,align:"left"}),{column:1,row:1,expand:!0}),this.scoreGrid.add(this.rexUI.add.label({text:this.add.text(0,0,"Total Score",o),align:"right"}),{column:0,row:2,expand:!0}),this.score.totalScoreValue=this.data.previousScore,this.score.totalScore=this.add.text(0,0,this.score.totalScoreValue,o),this.scoreGrid.add(this.rexUI.add.label({text:this.score.totalScore,align:"left"}),{column:1,row:2,expand:!0}),this.scoreGrid.layout(),this.scoreGrid.popUp(1500),this.time.addEvent({delay:2e3,callback:function(){e.scoringStatus=1},callbackScope:this,loop:!1})}},{key:"loadLevel",value:function(e){var t=this;console.log("loading level",e),this.parentScene.loading||(this.parentScene.loading=!0,this.tweens.addCounter({from:this.parentScene.bgm.volume,to:0,duration:1e3,onUpdate:function(e){t.parentScene.bgm.volume=e.getValue()}}),this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once(i().Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){var n={previousScore:Math.floor(t.score.totalScoreValue),bgmVolume:t.data.bgmVolume,sfxVolume:t.data.sfxVolume};t.parentScene.scene.key===e?t.parentScene.scene.restart(n):(t.scene.start(e,n),t.scene.stop(t.parentScene.scene.key),t.scene.stop(t.scene.key))})))}},{key:"updateScores",value:function(e,t){var n=this;if(this.scoreGrid&&!(this.scoringStatus<1))switch(this.scoringStatus){case 1:this.sfx.scoreDings.isPlaying||this.sfx.scoreDings.play({loop:!0,volume:this.parentScene.sfxVolume,rate:1}),this.score.levelPickupsValue>=0?(this.score.levelPickupsValue-=t/1e3*25,this.score.totalScoreValue+=t/1e3*25,this.score.levelPickupsValue<0&&(this.score.levelPickupsValue=-1),this.score.levelPickups.setText(Math.floor(this.score.levelPickupsValue)>0?Math.floor(this.score.levelPickupsValue):""),this.score.totalScore.setText(Math.floor(this.score.totalScoreValue))):(this.scoringStatus=2,this.sfx.scoreDings.play({loop:!1,volume:this.parentScene.sfxVolume,detune:700,rate:1}),this.time.addEvent({delay:1e3,callback:function(){n.scoringStatus=3},callbackScope:this,loop:!1}));break;case 2:break;case 3:this.sfx.scoreDings.isPlaying||this.sfx.scoreDings.play({loop:!0,volume:this.parentScene.sfxVolume,detune:0,rate:1}),this.score.shipEnergyValue>=0?(this.score.shipEnergyValue-=t/1e3*25,this.score.totalScoreValue+=t/1e3*25,this.score.shipEnergyValue<0&&(this.score.shipEnergyValue=-1),this.score.shipEnergy.setText(Math.floor(this.score.shipEnergyValue)>0?Math.floor(this.score.shipEnergyValue):""),this.score.totalScore.setText(Math.floor(this.score.totalScoreValue))):(this.scoringStatus=4,this.sfx.scoreDings.play({loop:!1,volume:this.parentScene.sfxVolume,detune:700,rate:1}));break;case 4:this.continueLabel.setAlpha(1)}}},{key:"setupSFX",value:function(){var e=this;this.sfx.scoreDings=this.sound.add("sfx-score"),this.parentScene.bgm.volume>.1&&this.tweens.addCounter({from:this.parentScene.bgm.volume,to:Math.max(.1,this.parentScene.bgm.volume-.3),duration:4e3,onUpdate:function(t){e.parentScene.bgm.volume=t.getValue()}})}}])&&Q(t.prototype,n),o&&Q(t,o),a}(N);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=pe(e);if(t){var i=pe(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(r,e);var t,n,o,i=le(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),he(ue(e=i.call(this,{key:"pause-scene"})),"data",{}),he(ue(e),"dialog",void 0),he(ue(e),"parentScene",{}),he(ue(e),"sfx",{}),e}return t=r,(n=[{key:"create",value:function(e){this.data=e,this.parentScene=e.scene,this.data.bgmVolume=this.parentScene.bgm.volume,this.setupPauseDialog()}},{key:"setupPauseDialog",value:function(){var e=this,t=this.sys.game.scale.gameSize,n=this.add.sprite(0,0,"background-dialog"),o={fontSize:"24px",fontFamily:"Inter",color:"#fff"},i=this.rexUI.add.gridSizer(t.width/2,t.height/2+100,500,160,{column:2,row:3,columnProportions:[40,60],rowProportions:[50,50],space:{left:10,right:10,top:5,bottom:10,column:20,row:10}});i.add(this.rexUI.add.label({text:this.add.text(0,0,"Music volume",o),align:"right"}),{column:0,row:0,expand:!0}),i.add(this.rexUI.add.label({text:this.add.text(0,0,"SFX volume",o),align:"right"}),{column:0,row:1,expand:!0});var r=this.rexUI.add.slider({orientation:"x",height:20,width:300,track:this.rexUI.add.roundRectangle(0,0,0,0,2,E().colour.accent3),thumb:this.rexUI.add.roundRectangle(0,0,0,0,16,16777215),input:"drag",value:this.parentScene.bgmVolume,valuechangeCallback:function(t){e.parentScene.setBgmVolume(t)},space:{left:4,right:4,top:4,bottom:4},enable:!0});i.add(r,{column:1,row:0,expand:!1});var a=this.rexUI.add.slider({orientation:"x",height:20,width:300,track:this.rexUI.add.roundRectangle(0,0,0,0,2,E().colour.accent3),thumb:this.rexUI.add.roundRectangle(0,0,0,0,16,16777215),input:"drag",value:this.parentScene.sfxVolume,valuechangeCallback:function(t){e.parentScene.setSfxVolume(t)},space:{left:4,right:4,top:4,bottom:4},enable:!0});i.add(a,{column:1,row:1,expand:!1});var s=this.rexUI.add.buttons({buttons:[this.rexUI.add.label({name:"fullscreen",align:"left",text:this.add.text(0,0,"Fullscreen mode",o),icon:this.add.rectangle(0,0,18,18).setStrokeStyle(2,E().colour.accent3),space:{icon:10,left:4,right:4}})],type:"checkboxes",align:"left",setValueCallback:function(t,n){"fullscreen"===t.name&&(t.getElement("icon").setFillStyle(n?E().colour.accent2:void 0),n?e.scale.startFullscreen():e.scale.stopFullscreen())}});s.setData("fullscreen",this.scale.isFullscreen),i.add(s,{column:1,row:2,expand:!0}),this.dialog=this.rexUI.add.dialog({x:t.width/2,y:t.height/2,background:n,title:this.rexUI.add.label({text:this.add.text(0,0,"GAME PAUSED",{fontSize:"30px",fontFamily:"Inter"}),align:"center",anchor:"center"}),content:i,actions:[this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,0,0,20,E().colour.accent1),text:this.add.text(0,0,"Exit to title screen",{fontSize:"18px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}}),this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,0,0,20,E().colour.accent3),text:this.add.text(0,0,"Resume Game",{fontSize:"24px",fontFamily:"Inter"}),space:{left:10,right:10,top:10,bottom:10}})],actionsAlign:"center",space:{title:100,action:60,content:30,left:50,right:50,top:30,bottom:50}}).layout().popUp(200),this.dialog.on("button.click",(function(t,n,o,i,r){switch(t.text){case"Resume Game":e.resumeGame();break;case"Exit to title screen":confirm("Are you sure you want to go back to the title screen?")&&window.location.reload()}})).on("button.over",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle(5,E().colour.accent2)})).on("button.out",(function(e,t,n,o,i){e.getElement("background").setStrokeStyle()}))}},{key:"resumeGame",value:function(){this.scene.stop(this.scene.key),this.parentScene.scene.resume()}}])&&ae(t.prototype,n),o&&ae(t,o),r}(i().Scene),de=(n(1249),n(6699),n(2023),n(6486));function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t,n){return(we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=je(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=je(e);if(t){var i=je(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(a,e);var t,n,o,r=ke(a);function a(){var e;me(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _e(Oe(e=r.call.apply(r,[this].concat(n))),"map",null),_e(Oe(e),"score",0),_e(Oe(e),"previousScore",0),_e(Oe(e),"tilesets",[]),_e(Oe(e),"scaleFactor",1),_e(Oe(e),"tileSize",32),_e(Oe(e),"terrain",[]),_e(Oe(e),"particles",{}),_e(Oe(e),"bgm",{}),_e(Oe(e),"bgmVolume",.7),_e(Oe(e),"bgmAdjust",1),_e(Oe(e),"ui",{depth:10}),_e(Oe(e),"lightbeams",[]),_e(Oe(e),"sfx",{}),_e(Oe(e),"sfxVolume",.6),_e(Oe(e),"endOfLevel",!1),_e(Oe(e),"loading",!0),_e(Oe(e),"debugEnabled",!0),_e(Oe(e),"input",{cursorKeys:null}),_e(Oe(e),"positionBasedEvents",[]),e}return t=a,(n=[{key:"setBgmVolume",value:function(e){this.bgmVolume=e,this.bgm.setVolume(this.bgmAdjust*this.bgmVolume)}},{key:"setSfxVolume",value:function(e){this.sfxVolume=e;for(var t=0,n=Object.entries(this.sfx);t<n.length;t++){var o=ge(n[t],1)[0];Object.prototype.hasOwnProperty.call(this.sfx[o],"isPlaying")&&this.sfx[o].setVolume(this.sfxVolume)}}},{key:"preload",value:function(){var e=this;this.setupProgressBar(),we(je(a.prototype),"preload",this).call(this),this.load.image("".concat(this.scene.key,"-background"),"assets/tilemaps/".concat(this.scene.key,"/background.jpg")),this.load.tilemapTiledJSON(this.scene.key,"assets/tilemaps/".concat(this.scene.key,".json")),this.terrain.forEach((function(t){e.load.image("".concat(e.scene.key,"-").concat(t),"assets/tilemaps/".concat(e.scene.key,"/").concat(t))}))}},{key:"create",value:function(e){we(je(a.prototype),"create",this).call(this,e),Object.prototype.hasOwnProperty.call(e,"bgmVolume")&&(this.bgmVolume=e.bgmVolume),Object.prototype.hasOwnProperty.call(e,"sfxVolume")&&(this.sfxVolume=e.sfxVolume),Object.prototype.hasOwnProperty.call(e,"previousScore")&&(this.previousScore=e.previousScore),this.loading=!1,this.enableControls(),this.sound.pauseOnBlur=!1}},{key:"update",value:function(e,t){var n=this;we(je(a.prototype),"update",this).call(this,e,t),this.checkDebugControls(),this.doInputControls(e,t),this.player&&(this.checkPositionalEvents(this.player.x),this.ui.health.foregroundSprite.setScale(this.ui.health.baseScale*this.player.getHealthPercent(),this.ui.health.baseScale),this.endOfLevel||this.player.x>=this.map.widthInPixels-300&&(this.endOfLevel=!0,this.doEndOfLevel())),this.ui.warning.topSprite.visible&&this.ui.warning.topSprite.setTilePosition(this.ui.warning.topSprite.tilePositionX+t/1e3*170),this.ui.warning.bottomSprite.visible&&this.ui.warning.bottomSprite.setTilePosition(this.ui.warning.bottomSprite.tilePositionX+t/1e3*170),this.ui.warning.gravityarrow.visible&&this.ui.warning.gravityarrow.setTilePosition(0,this.ui.warning.gravityarrow.tilePositionY+t/1e3*100);var o=null;if(this.lightbeams.forEach((function(e){!1===(0,de.get)(e,"destroyed",!1)&&(e.distanceToObject=Math.abs(i().Math.Distance.Between(n.player.x,n.player.y,e.x,e.y)),e.distanceToObject>2e3?(e.lightbeamOnScreen=!1,e.tween.isPlaying()&&e.tween.pause()):((null==o||o.distanceToObject>e.distanceToObject)&&(o=e),e.lightbeamOnScreen=!0,e.tween.isPlaying()||e.tween.resume()))})),null!=o){this.sfx.lightbeam.isPlaying||this.sfx.lightbeam.play({loop:!0});var r=1-o.distanceToObject/2e3;this.sfx.lightbeam.volume=i().Math.Easing.Sine.In(r)*this.sfxVolume}else this.sfx.lightbeam.isPlaying&&this.sfx.lightbeam.stop()}},{key:"onSceneShutdown",value:function(){this.stopAllSounds()}},{key:"setupBackground",value:function(){var e=this.sys.game.scale.gameSize;this.background=this.add.image(0,0,"".concat(this.scene.key,"-background")).setOrigin(0),this.scrollerNumber=(this.background.width-e.width)/this.map.widthInPixels,this.background.setScrollFactor(this.scrollerNumber),this.background.depth=-10}},{key:"setupUI",value:function(){var e=this,t=this.sys.game.scale.gameSize;this.ui.pauseSprite=this.add.sprite(20,20,"sprites2","ui-pause-off").setOrigin(0,0).setInteractive().setScrollFactor(0,0).setDepth(this.ui.depth).setScale(.6).on("pointerdown",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-on"),e.pauseGame()})).on("pointerup",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-off")})).on("pointerout",(function(){e.ui.pauseSprite.setTexture("sprites2","ui-pause-off")})),this.ui.health={baseScale:.5,x:t.width-250},this.ui.health.backgroundSprite=this.add.image(this.ui.health.x,25,"sprites2","health-background").setOrigin(0,0).setScrollFactor(0,0).setScale(this.ui.health.baseScale),this.ui.health.foregroundSprite=this.add.image(this.ui.health.x+20,38,"sprites2","health-foreground").setOrigin(0,0).setScrollFactor(0,0).setScale(this.ui.health.baseScale),this.ui.score={background:this.add.image(this.ui.health.x-100,53,"sprites2","pickup-count-background").setOrigin(.5,.5).setScrollFactor(0,0).setScale(.5),text:this.add.text(this.ui.health.x-100+20,53,"0",{fill:"#FFFFFF",font:"24px Inter"}).setOrigin(.5,.5).setScrollFactor(0,0)},this.ui.warning={topSprite:this.add.tileSprite(0,0,t.width,360,"ui-warning-top"),bottomSprite:this.add.tileSprite(t.width/2,540,t.width,360,"ui-warning-top")},this.ui.warning.tween=this.tweens.addCounter({from:1,to:.2,duration:700,repeat:-1,paused:!0,yoyo:!0,easing:"Elastic",onUpdate:function(t){e.ui.warning.topSprite.setAlpha(t.getValue()),e.ui.warning.bottomSprite.setAlpha(t.getValue())}}),this.ui.warning.topSprite.setOrigin(0,0).setScrollFactor(0,0).setVisible(!1).setDepth(this.ui.depth),this.ui.warning.bottomSprite.setOrigin(.5,.5).setScrollFactor(0,0).setVisible(!1).setDepth(this.ui.depth).setAngle(180),this.ui.warning.gravityarrow=this.add.tileSprite(t.width/2,t.height/2,200,210,"sprites2","arrows-up").setOrigin(.5,.5).setScrollFactor(0,0).setVisible(!1).setAlpha(.4).setScale(6.5).setDepth(-1),this.ui.downSprite=this.add.sprite(20,550,"sprites2","ui-arrow-down-off").setOrigin(0,0).setScrollFactor(0,0).setInteractive().setDepth(this.ui.depth).on("pointerdown",(function(){e.ui.downSpriteActive=!0,e.ui.downSprite.setX(23)})).on("pointerup",(function(){e.ui.downSpriteActive=!1,e.ui.downSprite.setX(20)})).on("pointerout",(function(){e.ui.downSpriteActive=!1,e.ui.downSprite.setX(20)})),this.ui.upSprite=this.add.sprite(20,370,"sprites2","ui-arrow-up-off").setOrigin(0,0).setInteractive().setScrollFactor(0,0).setDepth(this.ui.depth).on("pointerdown",(function(){e.ui.upSpriteActive=!0})).on("pointerup",(function(){e.ui.upSpriteActive=!1})).on("pointerout",(function(){e.ui.upSpriteActive=!1})),this.ui.rightSprite=this.add.sprite(155,460,"sprites2","ui-arrow-right-off").setOrigin(0,0).setInteractive().setDepth(this.ui.depth).setScrollFactor(0,0).on("pointerdown",(function(){e.ui.rightSpriteActive=!0})).on("pointerup",(function(){e.ui.rightSpriteActive=!1})).on("pointerout",(function(){e.ui.rightSpriteActive=!1}))}},{key:"setupAudio",value:function(){this.bgm=this.sound.add("".concat(this.scene.key,"-music")),this.bgm.play({loop:!0,volume:this.bgmVolume*this.bgmAdjust}),this.sfx.lightbeam=this.sound.add("sfx-lightbeam"),this.sfx.warning=this.sound.add("sfx-warning")}},{key:"checkDebugControls",value:function(){this.debugEnabled&&(this.input.cursorKeys.left.isDown&&(this.player.x+=2*-this.player.verticalSpeed),this.input.debugEndScene.enabled&&this.input.debugEndScene.isDown&&(this.input.debugEndScene.enabled=!1,this.doEndOfLevel()))}},{key:"setupControls",value:function(){var e=this;this.input.cursorKeys=this.input.keyboard.createCursorKeys(),this.debugEnabled&&(this.input.debugEndScene=this.input.keyboard.addKey("F1"),this.input.debugWarningUI=this.input.keyboard.addKey("F2"),this.input.debugWarningUI.on("down",(function(){e.ui.warning.topSprite.visible?(e.hideWarningUI(),e.disableGravity()):(e.showWarningUI(),e.applyGravity())})),this.input.keyboard.addKey("ESC").on("down",(function(){e.loading||e.pauseGame()})))}},{key:"enableControls",value:function(){this.controlsEnabled=!0}},{key:"disableControls",value:function(){this.controlsEnabled=!1}},{key:"doInputControls",value:function(e,t){if(this.controlsEnabled){var n=!1;(this.ui.downSpriteActive||this.input.cursorKeys.down.isDown)&&(this.player.moveDown(e,t),n=!0),(this.ui.upSpriteActive||this.input.cursorKeys.up.isDown)&&(this.player.moveUp(e,t),n=!0),n||this.player.stopMoving();var o=!1;(this.ui.rightSpriteActive||this.input.cursorKeys.right.isDown)&&(o=!0),o?!this.player.boosted&&this.player.health>0&&this.player.startBoost():this.player.boosted&&this.player.stopBoost()}}},{key:"setupMap",value:function(e){var t=this;this.map=this.make.tilemap({key:e}),this.map.setBaseTileSize(this.tileSize,this.tileSize),this.matter.world.setBounds(0,0,this.map.widthInPixels+500,this.map.heightInPixels);var n=0;this.terrain.forEach((function(o){if(t.debugLog("checking "+o),t.map.getLayer(o.substr(0,o.length-4))){t.debugLog("adding layer "+o);var i=t.map.addTilesetImage("".concat(e,"/").concat(o),"".concat(t.scene.key,"-").concat(o)),r=t.map.getTileset("".concat(e,"/").concat(o));n=o.includes("bottom")?t.map.heightInPixels-t.sys.game.scale.gameSize.height:0,t.map.createLayer(o.substr(0,o.length-4),i,0,-r.tileHeight+t.tileSize-n).setScale(1).skipCull=!0}})),this.buildColliderForLayer(this.map.getObjectLayer("terrain_collision"))}},{key:"buildColliderForLayer",value:function(e){var t=this,n=0;e.objects.forEach((function(e){var o=t.matter.vertices.create(e.polygon),r=i().Physics.Matter.Matter.Bodies.fromVertices(0,0,o,{ignoreGravity:!0,isStatic:!0,render:{lineThickness:4},label:"terrain"},!1,.01,10);n=e.name.includes("b")?t.map.heightInPixels-t.sys.game.scale.gameSize.height:0,i().Physics.Matter.Matter.Body.setPosition(r,{x:e.x+r.centerOffset.x,y:e.y+r.centerOffset.y-n}),i().Physics.Matter.Matter.World.add(t.matter.world.localWorld,r)}))}},{key:"setupCollisions",value:function(){var e=this;this.matter.world.on("collisionstart",(function(t,n,o){"pickup"!==n.label&&"pickup"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&(n.gameObject.collide(o,t),e.collectPickup(o)),o.gameObject&&"ship"===o.gameObject.name&&(o.gameObject.collide(n,t),e.collectPickup(n))),"terrain"!==n.label&&"terrain"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t)),"debris"!==n.label&&"debris"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t)),"lightbeam"!==n.label&&"lightbeam"!==o.label||(n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collide(o,t),o.gameObject&&"ship"===o.gameObject.name&&o.gameObject.collide(n,t))})),this.matter.world.on("collisionactive",(function(e,t,n){"lightbeam"!==t.label&&"lightbeam"!==n.label||(t.gameObject&&"ship"===t.gameObject.name&&t.gameObject.collideActive(n,e),n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collideActive(t,e))})),this.matter.world.on("collisionend",(function(e,t,n){"lightbeam"!==t.label&&"lightbeam"!==n.label||(t.gameObject&&"ship"===t.gameObject.name&&t.gameObject.collideFinish(n,e),n.gameObject&&"ship"===n.gameObject.name&&n.gameObject.collideFinish(t,e))}))}},{key:"collectPickup",value:function(e){this.sound.play("sfx-pickup",{volume:this.sfxVolume,seek:0,detune:100*i().Math.Between(-5,5)}),this.score+=1,this.ui.score.text.setText(this.score),e.gameObject.tweenX&&e.gameObject.tweenX.remove(),e.gameObject.tweenY&&e.gameObject.tweenY.remove(),e.gameObject.destroy()}},{key:"setupParticles",value:function(){this.particles.debris=this.add.particles("debris-chunk")}},{key:"setupDebris",value:function(){var e=this,t=this.map.getObjectLayer("debris");if(t){var n=[];t.objects.forEach((function(t){n.includes(t.name)||(n.push(t.name),e.load.image("".concat(e.scene.key,"-").concat(t.name),"assets/tilemaps/".concat(e.scene.key,"/").concat(t.name,".png")),e.load.json("".concat(e.scene.key,"-").concat(t.name,"-physics"),"assets/tilemaps/".concat(e.scene.key,"/").concat(t.name,"-physics.json")))})),this.load.once("complete",(function(){t.objects.forEach((function(t){var n=e.cache.json.get("".concat(e.scene.key,"-").concat(t.name,"-physics")),o=e.matter.add.sprite(t.x,t.y,"".concat(e.scene.key,"-").concat(t.name),0,{shape:n[t.name],label:"debris"});o.setDepth(e.ui.depth-1),o.setAngularVelocity((0,de.find)(t.properties,{name:"angularVelocity"}).value),o.setVelocityX((0,de.find)(t.properties,{name:"velocityX"}).value)}))})),this.load.start()}}},{key:"setupPickups",value:function(){var e=this,t=this.map.getObjectLayer("pickups");t&&t.objects.forEach((function(t){var n=e.cache.json.get("arrows1-physics"),o=e.matter.add.sprite(t.x,t.y,"arrows1",0,{shape:n.arrows1,label:"arrows1"});if(o.setDepth(e.ui.depth-1),o.body.ignoreGravity=!0,void 0!==(0,de.find)(t.properties,{name:"moveX"})){var i=(0,de.find)(t.properties,{name:"moveX"}).value,r=(0,de.find)(t.properties,{name:"moveDuration"}).value,a=0;void 0!==(0,de.find)(t.properties,{name:"moveHold"})&&(a=(0,de.find)(t.properties,{name:"moveHold"}).value),o.tweenX=e.tweens.addCounter({from:t.x,to:t.x+i,duration:r,hold:a,loopDelay:a,yoyo:!0,ease:"Quart.easeInOut",loop:-1,onUpdate:function(e){o.x=e.getValue()}})}if(void 0!==(0,de.find)(t.properties,{name:"moveY"})){var s=(0,de.find)(t.properties,{name:"moveY"}).value,l=(0,de.find)(t.properties,{name:"moveDuration"}).value,c=0;void 0!==(0,de.find)(t.properties,{name:"moveHold"})&&(c=(0,de.find)(t.properties,{name:"moveHold"}).value),o.tweenY=e.tweens.addCounter({from:t.y,to:t.y+s,duration:l,hold:c,loopDelay:c,ease:"Quart.easeInOut",yoyo:!0,loop:-1,onUpdate:function(e){o.y=e.getValue()}})}}))}},{key:"setupLightbeams",value:function(){var e=this,t=this.map.getObjectLayer("lightbeams");if(t){var n=[];t.objects.forEach((function(t){n.includes(t.name)||(n.push(t.name),e.load.image(t.name,"assets/sprites/".concat(t.name,".png")),e.load.json("".concat(t.name,"-physics"),"assets/sprites/".concat(t.name,"-physics.json")))})),this.load.once("complete",(function(){t.objects.forEach((function(t){var n=e.cache.json.get("".concat(t.name,"-physics")),o=e.matter.add.sprite(t.x,t.y,t.name,0,{shape:n[t.name],label:"lightbeam"});o.setScale(1,1.5),o.setDepth(-1),o.body.ignoreGravity=!0,void 0!==(0,de.find)(t.properties,{name:"angle"})&&o.setAngle((0,de.find)(t.properties,{name:"angle"}).value),o.tween=e.tweens.addCounter({from:1,to:.7,duration:954,repeat:-1,paused:!0,onUpdate:function(e){o.setAlpha(e.getValue())}}),e.lightbeams.push(o)}))})),this.load.start()}}},{key:"setupCamera",value:function(){var e=this.sys.game.scale.gameSize;this.cameras.main.startFollow(this.player,!1,.05,0,-1*Math.floor(e.width/4)),this.cameras.main.setBounds(0,0,this.map.widthInPixels-this.tileSize,this.map.heightInPixels-this.tileSize),this.cameras.main.disableCull=!0}},{key:"enableDebugGraphics",value:function(){this.matter.world.createDebugGraphic();var e=this.add.graphics().setAlpha(.25).setDepth(20);this.map.renderDebug(e,{tileColor:new(i().Display.Color)(105,210,231,150),collidingTileColor:new(i().Display.Color)(243,0,0,200),faceColor:new(i().Display.Color)(40,39,37,150)})}},{key:"collideDestroy",value:function(e,t){switch(e.label){case"debris":case"lightbeam":e.enable=!1,e.gameObject.setCollisionCategory(null),e.gameObject.destroyed=!0,this.tweens.addCounter({from:1,to:0,duration:500,onUpdate:function(t){e.gameObject.setAlpha(t.getValue())},onComplete:function(){e.gameObject.setVisible(!1)}});var n=this.particles.debris.createEmitter({frequency:-1,quantity:30,radial:!0,scale:{start:4,end:0},speed:{min:-500,max:500},rotate:{min:0,max:360},blendMode:"ADD",lifespan:2e3,on:!1});n.startFollow(e.gameObject),n.explode()}switch(e.label){case"lightbeam":this.sfx.lightbeam.stop(),e.gameObject.tween.remove()}}},{key:"doGameOver",value:function(){var e=this;this.cameras.main.stopFollow(this.player,!1,5),this.tweens.addCounter({from:0,to:-300,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setDetune(t.getValue())}}),this.tweens.addCounter({from:1,to:.7,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setRate(t.getValue())}}),this.tweens.addCounter({from:this.bgm.volume,to:.2,duration:5e3,ease:"Cubic",onUpdate:function(t){e.bgm.setVolume(t.getValue())}})}},{key:"doEndOfLevel",value:function(){this.player.stopBoost(),this.disableControls(),this.player.disablePhysics(),this.scene.launch("end-of-level-score",{previousScore:this.previousScore,playerScore:this.score,playerHealth:this.player.health,scene:this}),this.scene.bringToTop("end-of-level-score")}},{key:"showWarningUI",value:function(){this.ui.warning.topSprite.setVisible(!0),this.ui.warning.bottomSprite.setVisible(!0),this.ui.warning.tween.resume(),this.sfx.warning.play({loop:!0,volume:.8})}},{key:"hideWarningUI",value:function(){var e=this;this.tweens.addCounter({from:this.ui.warning.topSprite.alpha,to:0,duration:500,onUpdate:function(t){e.ui.warning.topSprite.alpha=t.getValue(),e.ui.warning.bottomSprite.alpha=t.getValue()},onComplete:function(){e.ui.warning.topSprite.setVisible(!1),e.ui.warning.bottomSprite.setVisible(!1)}}),this.ui.warning.tween.stop(),this.sfx.warning.stop()}},{key:"applyGravity",value:function(e){this.matter.world.setGravity(0,e,.001)}},{key:"disableGravity",value:function(){this.matter.world.disableGravity()}},{key:"showGravityArrow",value:function(e){var t=this;this.ui.warning.gravityarrow.setVisible(!0).setAlpha(0),this.tweens.addCounter({from:0,to:.5,duration:500,onUpdate:function(e){t.ui.warning.gravityarrow.setAlpha(e.getValue())}}),this.ui.warning.gravityarrow.angle=e}},{key:"hideGravityArrow",value:function(){var e=this;this.tweens.addCounter({from:.5,to:0,duration:500,onUpdate:function(t){e.ui.warning.gravityarrow.setAlpha(t.getValue())},onComplete:function(){e.ui.warning.gravityarrow.setVisible(!1)}})}},{key:"checkPositionalEvents",value:function(e){var t=this;this.positionBasedEvents.forEach((function(n){if(e>=n.x&&!n.triggered)switch(n.triggered=!0,n.type){case"applyGravity":t.applyGravity(n.params.amount);break;case"disableGravity":t.disableGravity();break;case"showWarningUI":t.showWarningUI();break;case"hideWarningUI":t.hideWarningUI();break;case"showGravityArrow":t.showGravityArrow(n.params.angle);break;case"hideGravityArrow":t.hideGravityArrow()}}))}},{key:"setupProgressBar",value:function(){var e=this.add.graphics({x:250,y:250}),t=this.add.graphics({x:250,y:250}).fillStyle(12500670,.8).fillRect(240,270,320,50),n=this.cameras.main.width,o=this.cameras.main.height,i=this.make.text({x:n/2,y:o/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}}).setOrigin(.5,.5),r=this.make.text({x:n/2,y:o/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}}).setOrigin(.5,.5);this.load.on("progress",(function(t){r.setText(Math.floor(100*t)+"%"),e.clear(),e.fillStyle(12500670,1),e.fillRect(250,280,300*t,30)})),this.load.on("complete",(function(){this.removeListener("progress"),e.destroy(),t.destroy(),i.destroy(),r.destroy()}))}}])&&ve(t.prototype,n),o&&ve(t,o),a}(N);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ae(e,t,n){return(Ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ue(e);if(t){var i=Ue(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fe(e,t,n){return(Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=He(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=He(e);if(t){var i=He(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ne(e,t,n){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=$e(e);if(t){var i=$e(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?Je(e):t}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e,t,n){return(ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lt(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=lt(e);if(t){var i=lt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?st(e):t}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ht(e,t,n){return(ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bt(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=bt(e);if(t){var i=bt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?gt(e):t}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=[p,G,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(r,e);var t,n,o,i=Ce(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),De(Ie(e=i.call(this,{key:"level-one"})),"player",void 0),De(Ie(e),"bgmAdjust",.8),De(Ie(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_rock_4.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_rock_5.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png","top_terrain_4.png","top_terrain_5.png","top_terrain_6.png"]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-one preload"),Ae(Ue(r.prototype),"preload",this).call(this)}},{key:"create",value:function(e){Ae(Ue(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new O(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.setupTutorialText()}},{key:"setupTutorialText",value:function(){var e={fill:"#FFFFFF",font:"32px Inter"};this.tUpDown=this.add.text(900,350,_()["level-one"].upDown,e),this.tAvoidTerrain=this.add.text(1500,180,_()["level-one"].avoidTerrain,e),this.tCollect=this.add.text(2850,150,_()["level-one"].collect,e),this.tAvoidDebris=this.add.text(4050,200,_()["level-one"].avoidDebris,e),this.tUseBoost=this.add.text(5050,200,_()["level-one"].useBoost,e)}},{key:"update",value:function(e,t){Ae(Ue(r.prototype),"update",this).call(this,e,t)}}])&&Te(t.prototype,n),o&&Te(t,o),r}(Pe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(r,e);var t,n,o,i=Me(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Xe(ze(e=i.call(this,{key:"level-two"})),"player",void 0),Xe(ze(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","bottom_terrain_4.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png","top_terrain_4.png"]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-two preload"),Fe(He(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/EWQR7SQ-level-two.mp3")}},{key:"create",value:function(e){Fe(He(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new O(this,200,350),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&Ge(t.prototype,n),o&&Ge(t,o),r}(Pe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(r,e);var t,n,o,i=Qe(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),et(Je(e=i.call(this,{key:"level-three"})),"player",void 0),et(Je(e),"terrain",["bottom_rock_1.png","bottom_rock_2.png","bottom_rock_3.png","bottom_rock_4.png","bottom_rock_5.png","bottom_rock_6.png","bottom_terrain_1.png","bottom_terrain_2.png","bottom_terrain_3.png","bottom_terrain_4.png","bottom_terrain_5.png","bottom_terrain_6.png","top_rock_1.png","top_rock_2.png","top_rock_3.png","top_rock_4.png","top_rock_5.png","top_rock_6.png","top_terrain_1.png","top_terrain_2.png","top_terrain_3.png"]),et(Je(e),"positionBasedEvents",[{x:1e3,type:"showWarningUI"},{x:1100,type:"showGravityArrow",params:{angle:180}},{x:1500,type:"applyGravity",params:{amount:.08}},{x:1700,type:"hideWarningUI"},{x:1700,type:"hideGravityArrow"},{x:4200,type:"showWarningUI"},{x:4300,type:"showGravityArrow",params:{angle:0}},{x:4500,type:"applyGravity",params:{amount:-.08}},{x:4700,type:"hideWarningUI"},{x:4700,type:"hideGravityArrow"}]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-three preload"),Ne($e(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/EWH88RP-level-three.mp3")}},{key:"create",value:function(e){Ne($e(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new O(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&Ke(t.prototype,n),o&&Ke(t,o),r}(Pe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(r,e);var t,n,o,i=rt(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ct(st(e=i.call(this,{key:"level-four"})),"player",void 0),ct(st(e),"bgmAdjust",1),ct(st(e),"beat",.858),ct(st(e),"terrain",[]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-four preload"),ot(lt(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/6LTVTE5-level-four.mp3")}},{key:"create",value:function(e){ot(lt(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new O(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&nt(t.prototype,n),o&&nt(t,o),r}(Pe),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(r,e);var t,n,o,i=dt(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),mt(gt(e=i.call(this,{key:"level-five"})),"player",void 0),mt(gt(e),"terrain",[]),e}return t=r,(n=[{key:"preload",value:function(){this.debugLog("level-five preload"),ht(bt(r.prototype),"preload",this).call(this),this.load.audio("".concat(this.scene.key,"-music"),"assets/music/E36F5VL-level-five.mp3")}},{key:"create",value:function(e){ht(bt(r.prototype),"create",this).call(this,e),this.setupMap(this.scene.key),this.setupBackground(),this.player=new O(this,400,250),this.updatable.push(this.player),this.setupControls(),this.setupAudio(),this.setupCamera(),this.setupUI(),this.setupCollisions(),this.setupParticles(),this.setupDebris(),this.setupLightbeams(),this.setupPickups(),this.cameras.main.fadeIn(200,0,0,0)}}])&&pt(t.prototype,n),o&&pt(t,o),r}(Pe),ie,fe],wt=n(9044),St=n(3228),kt=n(1377);const xt={scale:{parent:"game",mode:Phaser.Scale.FIT,width:1280,height:720,autoCenter:Phaser.Scale.CENTER_HORIZONTALLY},type:Phaser.AUTO,antialiasGL:!0,pixelArt:!1,roundPixels:!0,audio:{disableWebAudio:!1},parent:"game",dom:{createContainer:!0},physics:{default:"matter",matter:{gravity:{y:0},enableSleep:!0}},scene:vt,plugins:{global:[{key:"rexWebFontLoader",plugin:wt.Z,start:!0},{key:"rexBBCodeTextPlugin",plugin:St.Z,start:!0}],scene:[{key:"rexUI",plugin:kt.Z,mapping:"rexUI"}]}};var Ot=new(i().Game)(xt);window.phaserGame=Ot},4480:e=>{e.exports={startText:{paragraph:"In a galaxy deep in space a team of software developers were on a cosmic quest to find the pillars of Azure.\n\nAs their pilot, your mission is to guide them safely through deep space, unlocking each stage of architectural excellence, while avoiding obstacles that could crash the ship and jeopardise the mission.",start:"Start Game"},howToPlay:{text1:"Use the arrow buttons to navigate up and down",text2:"Press the boost button to boost through beams",text3:"Collect as many arrows as possible",text4:"Avoid space pillars and rocks",text5:"Keep an eye on your energy bar"},"level-one":{upDown:"Use the arrow keys\nto move up and down",avoidTerrain:"Avoid space pillars and rocks",collect:"Collect as many arrows as possible",avoidDebris:"Avoid floating debris",useBoost:"Press the boost button \nto boost through beams",endOfLevelTitle:"STAGE 1 COMPLETED!",unlockHeading:"Unlocked: Cost Optimisation",unlockText:"You purchased a three-year reservation which decreased your costs by up to 72% compared to consumption-based billing.\n\nContact Grey Matter to find out more about Azure cost optimisation tactics."},"level-two":{endOfLevelTitle:"STAGE 2 COMPLETED!",unlockHeading:"Unlocked: Operational Excellence",unlockText:"You adopted Azure DevOps to increase agile planning, continuous integration, continuous delivery and monitoring of applications.\n\nContact Grey Matter to find out more about tools to support your development lifecycle."},"level-three":{endOfLevelTitle:"STAGE 3 COMPLETED!",unlockHeading:"Unlocked: Performance Efficiency",unlockText:"You discovered Azure Autoscale to support Azure Virtual Machines Scale Sets.\n\nContact Grey Matter to find out more about performance efficiency, including autoscaling with VMs and Kubernetes."},"level-four":{endOfLevelTitle:"STAGE 4 COMPLETED!",unlockHeading:"Unlocked: Reliability",unlockText:"You successfully created a reliable application by planning for disaster recovery.\n\nContact Grey Matter to find out more about building according to the resiliency and availability principles outlined in the Azure well-Architected Framework."},"level-five":{endOfLevelTitle:"STAGE 5 COMPLETED!",unlockHeading:"Unlocked: Security",unlockText:"You adopted a zero-trust security strategy and employed Azure Security Center and Azure Sentinel to monitor your security stature across on-premises, Azure and M365 workloads.\n\nContact Grey Matter to find out more about security in Azure."},endText:{text1:"Congratulations! Using the five pillars of Azure youve created a robust and well-architected cloud environment to carry your business into the future.",text2:"Submit your details to be entered into a prize draw to win a pair of Surface Earbuds.",text3:"Whether youre just starting out moving workloads to Azure, or youre taking the next step to expand your Azure deployment, Grey Matter can help you with your cloud strategy. Get in touch with our team of experts today info@greymatter.com"}}},6786:e=>{e.exports={colour:{accent1:128,accent2:16729344,accent3:35583}}}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=t,e=[],o.O=(t,n,i,r)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,i,r]=e[c],s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,r<a&&(a=r));s&&(e.splice(c--,1),t=i())}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={757:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[a,s,l]=n,c=0;for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(l)var u=l(o);for(t&&t(n);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[a[c]]=0;return o.O(u)},n=self.webpackChunkgreymatterazurespacegame=self.webpackChunkgreymatterazurespacegame||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[736],(()=>o(9421)));i=o.O(i)})();